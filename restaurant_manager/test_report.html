<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>go-test-report</title>
    <style type="text/css">
        body {
            font-family: sans-serif;
            background-color: #f3f3f3;
            border-top: 2px #dee6e8 solid;
            margin: 0;
        }

        div.pageHeader span.projectTitle {
            font-family: serif;
            font-size: 2em;
            padding-left: 56px;
            padding-top: 80px;
            display: block;
            color: #a5a5a5;
            text-shadow: 0 -1px 1px white;
        }

        div.pageHeader div.testStats {
            position: absolute;
            top: 7px;
            right: 52px;
            font-size: 0.8em;
            color: #a2a2a2;
        }

        div.pageHeader div.testStats span.indicator {
            font-size: 2em;
            position: relative;
            top: 5px;
            text-shadow: 0 1px 0 white;
        }

        div.pageHeader div.testStats span strong {
            margin-right: 16px;
        }

        div.pageHeader div.testStats span.total {
            border-right: 1px #afafaf dotted;
            background: #8298af;
        }

        div.pageHeader div.testStats span.passed {
            border-right: 1px #afafaf dotted;
            background: #6fca83;
        }

        div.pageHeader div.testStats span.skipped {
            background: #bababa;
        }

        div.pageHeader div.testStats span.failed {
            background: #ff7676;
        }

        div.pageHeader div.testStats span {
            margin-right: 1px;
            height: 55px;
            padding: 20px 8px 18px;
            color: white;
        }

        div.pageHeader .testGroupsTitle {
            margin: 16px 32px 8px 40px;
            font-size: 0.9em;
            color: darkgrey;
            display: inline-block;
        }

        div.pageHeader .testExecutionDate {
            display: inline-block;
            position: absolute;
            right: 10px;
            margin: 14px 32px 8px 40px;
            color: #9e9e9e;
            font-size: 0.9em;
        }

        .testReportContainer {
            padding: 0 32px 32px 32px;
        }

        .cardContainer {
            padding: 16px 16px 16px;
            box-shadow: 0 4px 4px #d4d4d4;
            background-color: white;
        }

        #testResults {
            display: flex;
            flex-wrap: wrap;
        }

        .testResultGroup {
            width: 24px;
            height: 24px;
            background-color: #43c143;
            margin-left: 1px;
            margin-bottom: 1px;
            box-sizing: border-box;
        }

        .testResultGroup.selected {
            border: 1px white solid;
            background-color: black !important;
        }

        .testResultGroup.skipped {
            border: 2px gray solid;
        }

        .testResultGroup.failed {
            background-color: red;
        }

        .cardContainer.testGroupList,
        .cardContainer.testDetail {
            margin-top: 16px;
            padding: 16px;
        }

        .cardContainer.testGroupList {
            color: #9c9c9c;
            padding: 0;
        }

        .cardContainer.testGroupList .testGroupRow {
            cursor: default;
            border-bottom: 1px #dadada dotted;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus {
            font-size: 1.2em;
            font-weight: bold;
            color: #139e13;
            pointer-events: none;
            display: inline-block;
            overflow: hidden;
            float: left;
            padding-top: 10px;
            padding-left: 20px;
            padding-right: 12px;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus.skipped {
            color: gray;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus.failed {
            color: red;
        }

        .cardContainer.testGroupList .testGroupRow span.testTitle {
            font-size: 0.9em;
            padding: 12px 0 10px;
            display: inline-block;
            pointer-events: none;
            color: #525252;
            text-overflow: ellipsis;
            overflow: hidden;
            width: calc(100% - 110px);
        }

        .cardContainer.testGroupList .testGroupRow span.testDuration {
            pointer-events: none;
        }

        .cardContainer.testGroupList .testGroupRow {
            position: relative;
            border-left: 4px #43c143 solid;
        }

        .cardContainer.testGroupList .testGroupRow.skipped {
            color: gray;
            border-left: 4px gray solid;
        }

        .cardContainer.testGroupList .testGroupRow.failed {
            color: red;
            border-left: 4px red solid;
        }

        .cardContainer.testGroupList .testGroupRow:hover {
            background-color: #fffaea;
            transition: 0.250s;
        }

        .cardContainer .testOutput {
            padding: 8px 16px 24px 16px;
        }

        .cardContainer .console {
            display: block;
            font-family: monospace;
            padding: 10px;
            background-color: #424242;
            color: #1aff00;
            border-bottom: 1px #1aff00 dotted;
            overflow: auto;
            font-size: 1.1em;
        }

        .cardContainer .testOutput .testDetail {
            border-bottom: 1px #d0d0d0 solid;
            padding: 16px;
            background-color: #e6e6e6;
            border-radius: 0 0 4px 4px;
            color: dimgrey;
            font-size: 0.8em;
        }

        .cardContainer .console.skipped{
            color: #d9d9d9;
        }

        .cardContainer .console.failed {
            color: #ffb2b2;
        }

        .cardContainer .testDuration {
            position: absolute;
            top: 5px;
            right: 8px;
            text-align: right;
            padding-right: 8px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<div class="pageHeader">
    <span class="projectTitle">go-test-report</span>
    <div class="testStats">
        <span class="total"><span class="indicator">&boxbox;</span> Total: <strong>25</strong>Duration: <strong>4m21.666s</strong>
        </span><span class="passed"><span class="indicator">&check;</span> Passed: <strong>25</strong>
        </span><span class="skipped"><span class="indicator">&dash;</span> Skipped: <strong>0</strong>
        </span><span class="failed"><span class="indicator">&cross;</span> Failed: <strong>0</strong>
        </span>
    </div>
    <span class="testGroupsTitle">Test Groups:</span>
    <span class="testExecutionDate">September 4, 2025 10:12:13</span>
</div>
<div class="testReportContainer">
    <div class="cardContainer">
        <div id="testResults">
            
                <div class="testResultGroup  " id="0"></div>
            
                <div class="testResultGroup  " id="1"></div>
            
        </div>
    </div>
    <div class="cardContainer testGroupList" id="testGroupList"></div>
</div>
<script type="application/javascript">
    /**
 * @typedef TestStatus
 * @property {string} TestName
 * @property {string} Package
 * @property {number} ElapsedTime
 * @property {Array.<string>} Output
 * @property {boolean} Passed
 * @property {boolean} Skipped
 */
class TestStatus {}

/**
 * @typedef TestGroupData
 * @type {object}
 * @property {string} FailureIndicator
 * @property {string} SkippedIndicator
 * @property {Array.<TestStatus>}
 */
class TestGroupData {}

/**
 * @typedef TestResults
 * @type {Array.<TestGroupData>}
 */
class TestResults extends Array {}

/**
 * @typedef SelectedItems
 * @property {HTMLElement|EventTarget} testResults
 * @property {String} selectedTestGroupColor
 */
class SelectedItems {}

/**
 * @typedef GoTestReportElements
 * @property {TestResults} data
 * @property {HTMLElement} testResultsElem
 * @property {HTMLElement} testGroupListElem
 */
class GoTestReportElements {}


/**
 * Main entry point for GoTestReport.
 * @param {GoTestReportElements} elements
 * @returns {{testResultsClickHandler: testResultsClickHandler}}
 * @constructor
 */
window.GoTestReport = function (elements) {
  const /**@type {SelectedItems}*/ selectedItems = {
    testResults: null,
    selectedTestGroupColor: null
  }

  function addEventData(event) {
    if (event.data == null) {
      event.data = {target: event.target}
    }
    return event
  }


  const goTestReport = {
    /**
     * Invoked when a user clicks on one of the test group div elements.
     * @param {HTMLElement} target The element associated with the test group.
     * @param {boolean} shiftKey If pressed, all of test detail associated to the test group is shown.
     * @param {TestResults} data
     * @param {SelectedItems} selectedItems
     * @param {function(target: Element, data: TestResults)} testGroupListHandler
     */
    testResultsClickHandler: function (target,
                                       shiftKey,
                                       data,
                                       selectedItems,
                                       testGroupListHandler) {

      if (target.classList.contains('testResultGroup') === false) {
        return
      }
      if (selectedItems.testResults != null) {
        let testResultsElement = /**@type {HTMLElement}*/ selectedItems.testResults
        testResultsElement.classList.remove("selected")
        testResultsElement.style.backgroundColor = selectedItems.selectedTestGroupColor
      }
      const testGroupId = /**@type {number}*/ target.id
      if ((target.id === undefined)
        || (data[testGroupId] === undefined)
        || (data[testGroupId]['TestResults'] === undefined)) {
        return
      }
      const testResults = /**@type {TestResults}*/ data[testGroupId]['TestResults']
      let testGroupList = /**@type {string}*/ ''
      selectedItems.selectedTestGroupColor = getComputedStyle(target).getPropertyValue('background-color')
      selectedItems.testResults = target
      target.classList.add("selected")
      for (let i = 0; i < testResults.length; i++) {
        const testResult = /**@type {TestGroupData}*/ testResults[i]
        const testPassed = /**@type {boolean}*/ testResult.Passed
        const testSkipped = /**@type {boolean}*/ testResult.Skipped
        const testPassedStatus = /**@type {string}*/ (testPassed) ? '' : (testSkipped ? 'skipped' : 'failed')
        const testId = /**@type {string}*/ target.attributes['id'].value
        testGroupList += `<div class="testGroupRow ${testPassedStatus}" data-groupid="${testId}" data-index="${i}">
        <span class="testStatus ${testPassedStatus}">${(testPassed) ? '&check' : (testSkipped ? '&dash' : '&cross')};</span>
        <span class="testTitle">${testResult.TestName}</span>
        <span class="testDuration"><span>${testResult.ElapsedTime}s </span>⏱</span>
      </div>`
      }
      const testGroupListElem = elements.testGroupListElem
      testGroupListElem.innerHTML = ''
      testGroupListElem.innerHTML = testGroupList

      if (shiftKey) {
        testGroupListElem.querySelectorAll('.testGroupRow')
                         .forEach((elem) => testGroupListHandler(elem, data))
      } else if (testResults.length === 1) {
        testGroupListHandler(testGroupListElem.querySelector('.testGroupRow'), data)
      }
    },

    /**
     *
     * @param {Element} target
     * @param {TestResults} data
     */
    testGroupListHandler: function (target, data) {
      const attribs = target['attributes']
      if (attribs.hasOwnProperty('data-groupid')) {
        const groupId = /**@type {number}*/ attribs['data-groupid'].value
        const testIndex = /**@type {number}*/ attribs['data-index'].value
        const testStatus = /**@type {TestStatus}*/ data[groupId]['TestResults'][testIndex]
        const testOutputDiv = /**@type {HTMLDivElement}*/ target.querySelector('div.testOutput')

        if (testOutputDiv == null) {
          const testOutputDiv = document.createElement('div')
          testOutputDiv.classList.add('testOutput')
          const consolePre = document.createElement('pre')
          consolePre.classList.add('console')
          const testDetailDiv = document.createElement('div')
          testDetailDiv.classList.add('testDetail')
          const packageNameDiv = document.createElement('div')
          packageNameDiv.classList.add('package')
          packageNameDiv.innerHTML = `<strong>Package:</strong> ${testStatus.Package}`
          const testFileNameDiv = document.createElement('div')
          testFileNameDiv.classList.add('filename')
          if (testStatus.TestFileName.trim() === "") {
            testFileNameDiv.innerHTML = `<strong>Filename:</strong> n/a &nbsp;&nbsp;`
          } else {
            testFileNameDiv.innerHTML = `<strong>Filename:</strong> ${testStatus.TestFileName} &nbsp;&nbsp;`
            testFileNameDiv.innerHTML += `<strong>Line:</strong> ${testStatus.TestFunctionDetail.Line} `
            testFileNameDiv.innerHTML += `<strong>Col:</strong> ${testStatus.TestFunctionDetail.Col}`
          }
          testDetailDiv.insertAdjacentElement('beforeend', packageNameDiv)
          testDetailDiv.insertAdjacentElement('beforeend', testFileNameDiv)
          testOutputDiv.insertAdjacentElement('afterbegin', consolePre)
          testOutputDiv.insertAdjacentElement('beforeend', testDetailDiv)
          target.insertAdjacentElement('beforeend', testOutputDiv)

          if (testStatus.Passed) {
            consolePre.classList.remove('skipped')
            consolePre.classList.remove('failed')
          } else if (testStatus.Skipped) {
            consolePre.classList.add('skipped')
            consolePre.classList.remove('failed')
          } else {
            consolePre.classList.remove('skipped')
            consolePre.classList.add('failed')
          }
          consolePre.textContent = testStatus.Output.join('')
        } else {
          testOutputDiv.remove()
        }
      }
    }
  }

  //+------------------------+
  //|    setup DOM events    |
  //+------------------------+
  elements.testResultsElem
          .addEventListener('click', event =>
            goTestReport.testResultsClickHandler(/**@type {HTMLElement}*/ addEventData(event).data.target,
                                                 event.shiftKey,
                                                 elements.data,
                                                 selectedItems,
                                                 goTestReport.testGroupListHandler))

  elements.testGroupListElem
          .addEventListener('click', event =>
            goTestReport.testGroupListHandler(/**@type {Element}*/ event.target,
                                              elements.data))

  return goTestReport
}


    

    const data = [{"FailureIndicator":"","SkippedIndicator":"","TestResults":[{"TestName":"TestAddMenu","Package":"restaurant_manager/tests/integration","ElapsedTime":8.05,"Output":["","=== RUN   TestAddMenu\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:07:12-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:12-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:12-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:07:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:27\n","\u001b[0m\u001b[33m[3.525ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:07:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:34\n","\u001b[0m\u001b[33m[1.444ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '39d2e078-69cb-4a23-8b80-c7dd0703562d') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:07:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.331ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:20\n","\u001b[0m\u001b[33m[2.863ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"menu_items\" (\"name\",\"restaurant_id\",\"description\",\"price\",\"available\",\"side_dishes\",\"image_url\",\"category\") VALUES ('Burger','0bc4b241-2491-4367-a371-53f3ac9dae12','Juicy beef burger',10.99,true,0,'https://servu-web.s3.amazonaws.com/39d2e078-69cb-4a23-8b80-c7dd0703562d/menu/1756998432718051000.jpg','Main') RETURNING *\n","--- PASS: TestAddMenu (8.05s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":19,"Col":1}},{"TestName":"TestAddMenuItemWithIngredients","Package":"restaurant_manager/tests/integration","ElapsedTime":10.34,"Output":["","=== RUN   TestAddMenuItemWithIngredients\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:07:32-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:32-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:32-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:127\n","\u001b[0m\u001b[33m[13.586ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:134\n","\u001b[0m\u001b[33m[3.690ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'e27b4304-7333-4bf3-af33-8581e45fce97') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.895ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:20\n","\u001b[0m\u001b[33m[3.114ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"menu_items\" (\"name\",\"restaurant_id\",\"description\",\"price\",\"available\",\"side_dishes\",\"image_url\",\"category\") VALUES ('Burger','591d4197-8e5e-4e6d-b5e6-f02c144ea3db','Juicy beef burger',10.99,true,0,'https://servu-web.s3.amazonaws.com/e27b4304-7333-4bf3-af33-8581e45fce97/menu/1756998452890837000.jpg','Main') RETURNING *\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:21\n","\u001b[0m\u001b[33m[2.542ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"ingredients\" (\"menu_item_id\",\"raw_ingredient_id\",\"price\",\"amount\",\"unit\") VALUES ('7e7e34f4-ff3e-4dd2-9eed-72a07ab8cd72','107',100000,250,'g') RETURNING *\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:21\n","\u001b[0m\u001b[33m[1.387ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"ingredients\" (\"menu_item_id\",\"raw_ingredient_id\",\"price\",\"amount\",\"unit\") VALUES ('7e7e34f4-ff3e-4dd2-9eed-72a07ab8cd72','2',100000,100,'g') RETURNING *\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[1.025ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','2')\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[2.468ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '7e7e34f4-ff3e-4dd2-9eed-72a07ab8cd72'\n","\r\n","2025/09/04 10:07:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[3.333ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE restaurant_id = '591d4197-8e5e-4e6d-b5e6-f02c144ea3db'\n","--- PASS: TestAddMenuItemWithIngredients (10.34s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":119,"Col":1}},{"TestName":"TestAddRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":7.89,"Output":["","=== RUN   TestAddRestaurant\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:08:41-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:41-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:41-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:08:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:27\n","\u001b[0m\u001b[33m[3.948ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:08:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[2.775ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:21\n","\u001b[0m\u001b[33m[2.707ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"restaurants\" (\"name\",\"description\",\"owner_id\",\"image_url\",\"created_at\") VALUES ('Test Restaurant','Test Description','64682485-afa2-4e6e-a8e2-62132666c673','https://servu-web.s3.amazonaws.com/64682485-afa2-4e6e-a8e2-62132666c673/restaurant/1756998522338519000.jpg','2025-09-04 15:08:42.355') RETURNING *\n","--- PASS: TestAddRestaurant (7.89s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":19,"Col":1}},{"TestName":"TestAddTable","Package":"restaurant_manager/tests/integration","ElapsedTime":11.28,"Output":["","=== RUN   TestAddTable\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:09:22-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:22-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:22-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:09:23 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:24\n","\u001b[0m\u001b[33m[6.102ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:09:23 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:31\n","\u001b[0m\u001b[33m[1.767ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'ca56db5e-0bb9-48a1-b2b0-d99d5737e5d5') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:09:23 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.228ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:09:23 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:20\n","\u001b[0m\u001b[33m[3.010ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"tables\" (\"restaurant_id\",\"table_number\",\"qr_code\",\"status\",\"created_at\") VALUES ('4a313a5b-50cd-45c9-a635-aa5e34646e51',2,'QR_CODE_URL_2','available','2025-09-04 15:09:23.323') RETURNING *\n","--- PASS: TestAddTable (11.28s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":16,"Col":1}},{"TestName":"TestCreateCashClosing","Package":"restaurant_manager/tests/integration","ElapsedTime":10.03,"Output":["","=== RUN   TestCreateCashClosing\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:06:14-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:14-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:14-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:25\n","\u001b[0m\u001b[33m[4.178ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:33\n","\u001b[0m\u001b[33m[1.595ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'e8d7f48b-9467-4aab-b73b-2d9589eed9a6') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:310\n","\u001b[0m\u001b[33m[1.586ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d', 'Burger', 'Juicy beef burger', 35000.0, true, 'Main', 'https://example.com/burger.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:317\n","\u001b[0m\u001b[33m[1.186ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d', 'Pizza', 'Delicious pizza', 40000.0, true, 'Main', 'https://example.com/pizza.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:323\n","\u001b[0m\u001b[33m[1.769ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('4c58f497-4547-476b-9bff-c64b95f811d6', '107', 250, 'g', 15000.0)\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:326\n","\u001b[0m\u001b[33m[0.968ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('4c58f497-4547-476b-9bff-c64b95f811d6', '2', 100, 'g', 8000.0)\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:329\n","\u001b[0m\u001b[33m[0.814ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('2a055742-8c94-495b-bb05-ceb91e8cbeee', '107', 300, 'g', 18000.0)\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:332\n","\u001b[0m\u001b[33m[0.832ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('2a055742-8c94-495b-bb05-ceb91e8cbeee', '3', 150, 'g', 12000.0)\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:339\n","\u001b[0m\u001b[33m[1.120ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d', 1, 'QR_CODE_1')\n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:348\n","\u001b[0m\u001b[33m[2.241ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d', 'b3bd3c25-ff93-4058-8c3b-a06b99e50a9c', 'paid', 35000.0, '2025-08-15 12:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:355\n","\u001b[0m\u001b[33m[0.852ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d', 'b3bd3c25-ff93-4058-8c3b-a06b99e50a9c', 'paid', 40000.0, '2025-08-15 18:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:361\n","\u001b[0m\u001b[33m[1.184ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('0175df3e-392d-4c84-8020-c2fd580da4f9', '4c58f497-4547-476b-9bff-c64b95f811d6', 1, 35000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:364\n","\u001b[0m\u001b[33m[0.952ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('3aa7fa99-78f9-4eeb-85a2-1eb69a7de24b', '2a055742-8c94-495b-bb05-ceb91e8cbeee', 1, 40000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[3.541ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","2025/09/04 10:06:14 Creating cash closing for restaurant e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d on date 2025-08-15\n","\r\n","2025/09/04 10:06:14 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:24\n","\u001b[0m\u001b[33m[4.410ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"cash_closings\" (\"restaurant_id\",\"closing_date\",\"cash_in_register\",\"cash_withdrawn\",\"notes\",\"total_sales\",\"total_revenue\",\"total_costs\",\"total_profit\",\"order_count\",\"average_order_value\",\"created_at\",\"updated_at\") VALUES ('e6005c8d-bd63-4f9c-a0b3-a40ff1aaf10d','2025-08-15 00:00:00',1000,500,'Test cash closing',75000,75000,31200,43800,2,37500,'2025-09-04 10:06:14.823','2025-09-04 10:06:14.823') RETURNING *\n","2025/09/04 10:06:14 Successfully created cash closing with ID: b4ae6eee-6a0a-4676-887a-76b6745e176b\n","--- PASS: TestCreateCashClosing (10.03s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":16,"Col":1}},{"TestName":"TestCreateOrder","Package":"restaurant_manager/tests/integration","ElapsedTime":9.54,"Output":["","=== RUN   TestCreateOrder\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:07:49-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:49-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:49-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:25\n","\u001b[0m\u001b[33m[11.186ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:32\n","\u001b[0m\u001b[33m[2.554ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id, description, image_url)\n","\t\tVALUES ('Test Restaurant', 'ad62b1f3-d5fe-4ca5-b31c-4a6e08d27ab5', 'Test Description', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:39\n","\u001b[0m\u001b[33m[1.377ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('0d6cc6bd-9300-4b09-ab76-cc0c9daa7a62', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:46\n","\u001b[0m\u001b[33m[1.352ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('0d6cc6bd-9300-4b09-ab76-cc0c9daa7a62', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[3.328ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('a2b8a4e9-dfd5-4f5b-8eec-d8c37ea5274d','0d6cc6bd-9300-4b09-ab76-cc0c9daa7a62','ordered',21.98,NULL,0,0,0,'2025-09-04 15:07:49.806') RETURNING *\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.822ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='a2b8a4e9-dfd5-4f5b-8eec-d8c37ea5274d',\"status\"='occupied' WHERE table_id = 'a2b8a4e9-dfd5-4f5b-8eec-d8c37ea5274d'\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.509ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '577ecc02-c1ce-4ec7-813a-5b4bb8aa751b'\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.816ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'a2b8a4e9-dfd5-4f5b-8eec-d8c37ea5274d'\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[12.569ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '577ecc02-c1ce-4ec7-813a-5b4bb8aa751b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.752ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '03e24f70-9ad9-4713-b4ce-673538b2763e'\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.634ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '03e24f70-9ad9-4713-b4ce-673538b2763e' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[2.254ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('577ecc02-c1ce-4ec7-813a-5b4bb8aa751b','03e24f70-9ad9-4713-b4ce-673538b2763e',2,10.99,'pending','')\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.527ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '03e24f70-9ad9-4713-b4ce-673538b2763e'\n","\r\n","2025/09/04 10:07:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.167ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '03e24f70-9ad9-4713-b4ce-673538b2763e' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","--- PASS: TestCreateOrder (9.54s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":17,"Col":1}},{"TestName":"TestDeleteCashClosing","Package":"restaurant_manager/tests/integration","ElapsedTime":9.06,"Output":["","=== RUN   TestDeleteCashClosing\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:06:52-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:52-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:52-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:06:52 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:224\n","\u001b[0m\u001b[33m[3.359ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:06:52 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:232\n","\u001b[0m\u001b[33m[1.500ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '020bfc8f-6efb-4c5e-9d6a-99b854625e23') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:06:52 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:240\n","\u001b[0m\u001b[33m[1.928ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('dcbc0e9c-6d76-41b0-821b-a120004d7e26', '2025-08-15', 1000.0, 500.0, 'Test notes', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\t\tRETURNING cash_closing_id\n","\r\n","2025/09/04 10:06:52 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.634ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:06:52 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:56\n","\u001b[0m\u001b[33m[4.667ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"cash_closings\" WHERE cash_closing_id = '23e97c5d-9168-46ba-8d15-f92acf3daec3'\n","--- PASS: TestDeleteCashClosing (9.06s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":215,"Col":1}},{"TestName":"TestDeleteMenu","Package":"restaurant_manager/tests/integration","ElapsedTime":10.82,"Output":["","=== RUN   TestDeleteMenu\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:07:22-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:22-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:22-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:07:22 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:90\n","\u001b[0m\u001b[33m[7.703ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:07:22 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:97\n","\u001b[0m\u001b[33m[2.453ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '9d9ac352-2c12-42a7-a7d0-5bd70fd02eae') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:07:22 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:104\n","\u001b[0m\u001b[33m[1.977ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('6ea654c3-950e-437d-addc-b6ca5f42e3ca', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:07:22 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:28\n","\u001b[0m\u001b[33m[3.341ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'e270d50e-e8e0-43ea-a5c0-25de5dfd1fe3'\n","--- PASS: TestDeleteMenu (10.82s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":82,"Col":1}},{"TestName":"TestDeleteOrder","Package":"restaurant_manager/tests/integration","ElapsedTime":9.26,"Output":["","=== RUN   TestDeleteOrder\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:08:00-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:00-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:00-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:89\n","\u001b[0m\u001b[33m[6.131ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:96\n","\u001b[0m\u001b[33m[1.856ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, description, image_url, owner_id)\n","\t\tVALUES ('Test Restaurant', 'Test Description', 'https://test.com', '29020766-3821-45d4-bcce-f0a01bdcab0f') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:103\n","\u001b[0m\u001b[33m[1.792ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('eed325ab-1fbf-4ec8-8a38-8e6b4d60b09a', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:110\n","\u001b[0m\u001b[33m[1.702ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('eed325ab-1fbf-4ec8-8a38-8e6b4d60b09a', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[3.914ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('4823435f-503f-4e6c-a48c-7ead883eb222','eed325ab-1fbf-4ec8-8a38-8e6b4d60b09a','ordered',21.98,NULL,0,0,0,'2025-09-04 15:08:01.061') RETURNING *\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.091ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='4823435f-503f-4e6c-a48c-7ead883eb222',\"status\"='occupied' WHERE table_id = '4823435f-503f-4e6c-a48c-7ead883eb222'\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.279ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'e823a8d7-b960-4876-9c08-1d5a4f310757'\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.124ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '4823435f-503f-4e6c-a48c-7ead883eb222'\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[11.663ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'e823a8d7-b960-4876-9c08-1d5a4f310757' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.145ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '5ea1de57-9f38-4782-9e35-603725215ef9'\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.124ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '5ea1de57-9f38-4782-9e35-603725215ef9' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[2.335ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('e823a8d7-b960-4876-9c08-1d5a4f310757','5ea1de57-9f38-4782-9e35-603725215ef9',2,10.99,'pending','')\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.454ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '5ea1de57-9f38-4782-9e35-603725215ef9'\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.538ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '5ea1de57-9f38-4782-9e35-603725215ef9' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:01 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:28\n","\u001b[0m\u001b[33m[4.895ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"orders\" WHERE order_id = 'e823a8d7-b960-4876-9c08-1d5a4f310757'\n","--- PASS: TestDeleteOrder (9.26s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":81,"Col":1}},{"TestName":"TestDeleteRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":9.59,"Output":["","=== RUN   TestDeleteRestaurant\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:08:49-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:49-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:49-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:08:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:79\n","\u001b[0m\u001b[33m[4.417ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:08:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:86\n","\u001b[0m\u001b[33m[1.539ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'fd606e45-0ae1-4a62-8b42-f29aefdbd01e') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:08:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.453ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:49 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:56\n","\u001b[0m\u001b[33m[4.953ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"restaurants\" WHERE restaurant_id = 'e03ef3be-953d-41cc-b1c6-77d42279490f'\n","--- PASS: TestDeleteRestaurant (9.59s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":71,"Col":1}},{"TestName":"TestDeleteTable","Package":"restaurant_manager/tests/integration","ElapsedTime":12.12,"Output":["","=== RUN   TestDeleteTable\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:09:34-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:34-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:34-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:09:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:67\n","\u001b[0m\u001b[33m[5.436ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:09:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:74\n","\u001b[0m\u001b[33m[2.061ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'b822f464-8616-44be-9730-ce7dd28f0436') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:09:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.889ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:09:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:84\n","\u001b[0m\u001b[33m[2.490ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code, status)\n","\t\tVALUES ('85c34714-4b4d-4cc1-be44-1cf448d97a40', 2, 'QR_CODE', 'available') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:09:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:28\n","\u001b[0m\u001b[33m[2.553ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"tables\" WHERE table_id = '1d3ed40a-b95e-49e4-af9f-d68d976fc5ca'\n","--- PASS: TestDeleteTable (12.12s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":59,"Col":1}},{"TestName":"TestGetCashClosingData","Package":"restaurant_manager/tests/integration","ElapsedTime":8.38,"Output":["","=== RUN   TestGetCashClosingData\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:06:24-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:24-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:24-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:81\n","\u001b[0m\u001b[33m[3.150ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:89\n","\u001b[0m\u001b[33m[1.523ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '78c66ce5-771a-4ab4-995e-4b120453fed5') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:310\n","\u001b[0m\u001b[33m[1.252ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('678ea69f-63ed-45b3-981c-acb95ec13477', 'Burger', 'Juicy beef burger', 35000.0, true, 'Main', 'https://example.com/burger.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:317\n","\u001b[0m\u001b[33m[1.724ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('678ea69f-63ed-45b3-981c-acb95ec13477', 'Pizza', 'Delicious pizza', 40000.0, true, 'Main', 'https://example.com/pizza.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:323\n","\u001b[0m\u001b[33m[1.185ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('ac1556ae-34ea-4c2e-8c8f-8795563abcc2', '107', 250, 'g', 15000.0)\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:326\n","\u001b[0m\u001b[33m[1.142ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('ac1556ae-34ea-4c2e-8c8f-8795563abcc2', '2', 100, 'g', 8000.0)\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:329\n","\u001b[0m\u001b[33m[0.786ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('360d2b24-f2fb-4611-9395-e1b3595a7d15', '107', 300, 'g', 18000.0)\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:332\n","\u001b[0m\u001b[33m[0.778ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('360d2b24-f2fb-4611-9395-e1b3595a7d15', '3', 150, 'g', 12000.0)\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:339\n","\u001b[0m\u001b[33m[0.880ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('678ea69f-63ed-45b3-981c-acb95ec13477', 1, 'QR_CODE_1')\n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:348\n","\u001b[0m\u001b[33m[1.031ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('678ea69f-63ed-45b3-981c-acb95ec13477', 'ecc9027e-345e-4a64-8574-364cb127a6df', 'paid', 35000.0, '2025-08-15 12:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:355\n","\u001b[0m\u001b[33m[0.842ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('678ea69f-63ed-45b3-981c-acb95ec13477', 'ecc9027e-345e-4a64-8574-364cb127a6df', 'paid', 40000.0, '2025-08-15 18:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:361\n","\u001b[0m\u001b[33m[1.096ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('de96e530-dd52-4283-bf80-5d0af822ab10', 'ac1556ae-34ea-4c2e-8c8f-8795563abcc2', 1, 35000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:364\n","\u001b[0m\u001b[33m[0.800ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('9a30371e-a80d-4f71-ad3a-0bd860e9bbe6', '360d2b24-f2fb-4611-9395-e1b3595a7d15', 1, 40000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.713ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[0.883ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" IN ('ac1556ae-34ea-4c2e-8c8f-8795563abcc2','360d2b24-f2fb-4611-9395-e1b3595a7d15')\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[1.731ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" IN ('de96e530-dd52-4283-bf80-5d0af822ab10','9a30371e-a80d-4f71-ad3a-0bd860e9bbe6')\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[0.781ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'ecc9027e-345e-4a64-8574-364cb127a6df'\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[4.252ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE restaurant_id = '678ea69f-63ed-45b3-981c-acb95ec13477' AND status = 'paid'\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.769ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','2')\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.674ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ac1556ae-34ea-4c2e-8c8f-8795563abcc2'\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[3.390ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ac1556ae-34ea-4c2e-8c8f-8795563abcc2' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.370ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','3')\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.750ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '360d2b24-f2fb-4611-9395-e1b3595a7d15'\n","\r\n","2025/09/04 10:06:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.144ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '360d2b24-f2fb-4611-9395-e1b3595a7d15' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","--- PASS: TestGetCashClosingData (8.38s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":72,"Col":1}},{"TestName":"TestGetCashClosingHistory","Package":"restaurant_manager/tests/integration","ElapsedTime":10.68,"Output":["","=== RUN   TestGetCashClosingHistory\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:06:33-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:33-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:33-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:06:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:127\n","\u001b[0m\u001b[33m[4.070ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:06:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:135\n","\u001b[0m\u001b[33m[2.287ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'd5563ece-11fc-42b2-9e36-1dbdfdd26ae7') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:06:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:370\n","\u001b[0m\u001b[33m[1.857ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('a8a90220-f8ac-40e4-a61f-9a0e1ce44897', '2025-08-15', 1000.0, 500.0, 'First closing', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\r\n","2025/09/04 10:06:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:373\n","\u001b[0m\u001b[33m[1.089ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('a8a90220-f8ac-40e4-a61f-9a0e1ce44897', '2025-08-16', 1200.0, 600.0, 'Second closing', 80000.0, 80000.0, 35000.0, 45000.0, 3, 26666.67)\n","\r\n","2025/09/04 10:06:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.653ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:06:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:47\n","\u001b[0m\u001b[33m[2.509ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"cash_closings\" WHERE restaurant_id = 'a8a90220-f8ac-40e4-a61f-9a0e1ce44897' AND closing_date BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 00:00:00' ORDER BY closing_date DESC\n","--- PASS: TestGetCashClosingHistory (10.68s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":118,"Col":1}},{"TestName":"TestGetCashClosingStats","Package":"restaurant_manager/tests/integration","ElapsedTime":10.86,"Output":["","=== RUN   TestGetCashClosingStats\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:07:03-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:03-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:03-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:07:03 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:265\n","\u001b[0m\u001b[33m[3.650ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:07:03 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:273\n","\u001b[0m\u001b[33m[2.039ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '3014831f-62b0-4efa-928b-c07b130cc09e') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:07:03 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:370\n","\u001b[0m\u001b[33m[1.519ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('8f16149f-34af-4b6f-9f9e-5ed95f4126c4', '2025-08-15', 1000.0, 500.0, 'First closing', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\r\n","2025/09/04 10:07:03 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:373\n","\u001b[0m\u001b[33m[0.851ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('8f16149f-34af-4b6f-9f9e-5ed95f4126c4', '2025-08-16', 1200.0, 600.0, 'Second closing', 80000.0, 80000.0, 35000.0, 45000.0, 3, 26666.67)\n","\r\n","2025/09/04 10:07:03 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[2.082ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:03 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:83\n","\u001b[0m\u001b[33m[3.797ms] \u001b[34;1m[rows:1]\u001b[0m SELECT \n","\t\t\tSUM(total_sales) as total_sales,\n","\t\t\tSUM(total_revenue) as total_revenue,\n","\t\t\tSUM(total_costs) as total_costs,\n","\t\t\tSUM(total_profit) as total_profit,\n","\t\t\tSUM(order_count) as order_count,\n","\t\t\tCASE WHEN SUM(order_count) \u003e 0 THEN SUM(total_sales) / SUM(order_count) ELSE 0 END as average_order_value,\n","\t\t\tMIN(created_at) as created_at,\n","\t\t\tMAX(updated_at) as updated_at\n","\t\t FROM \"servu\".\"cash_closings\" WHERE restaurant_id = '8f16149f-34af-4b6f-9f9e-5ed95f4126c4' AND closing_date BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 00:00:00'\n","--- PASS: TestGetCashClosingStats (10.86s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":256,"Col":1}},{"TestName":"TestGetRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":10.57,"Output":["","=== RUN   TestGetRestaurant\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:09:00-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:00-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:00-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:09:00 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:113\n","\u001b[0m\u001b[33m[13.255ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:09:00 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:120\n","\u001b[0m\u001b[33m[2.198ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, description, owner_id, image_url)\n","\t\tVALUES ('Test Restaurant', 'Test Description', '8faaf18e-ab22-4bf0-8c89-121a276b64b7', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:09:00 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.484ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:09:00 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:40\n","\u001b[0m\u001b[33m[1.489ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"restaurants\" WHERE owner_id = '8faaf18e-ab22-4bf0-8c89-121a276b64b7'\n","--- PASS: TestGetRestaurant (10.57s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":105,"Col":1}},{"TestName":"TestGetTable","Package":"restaurant_manager/tests/integration","ElapsedTime":12.98,"Output":["","=== RUN   TestGetTable\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:11:32-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:11:32-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:11:32-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:11:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:107\n","\u001b[0m\u001b[33m[15.198ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:11:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:114\n","\u001b[0m\u001b[33m[3.345ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'ee99f43b-85dd-47ca-babd-fed1754c657a') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:11:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[2.452ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:11:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:124\n","\u001b[0m\u001b[33m[2.790ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code, status)\n","\t\tVALUES ('133a9100-a189-4aee-b9ce-a905a94a7868', 2, 'QR_CODE', 'available') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:11:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:39\n","\u001b[0m\u001b[33m[1.116ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE table_id = 'e05074be-0392-4f97-a8b9-eac8e00b7d4f' ORDER BY \"tables\".\"table_id\" LIMIT 1\n","--- PASS: TestGetTable (12.98s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":99,"Col":1}},{"TestName":"TestLoginUser","Package":"restaurant_manager/tests/integration","ElapsedTime":12.41,"Output":["","=== RUN   TestLoginUser\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:12:08-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:12:08-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:12:08-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:12:08 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/user_gateway_test.go:49\n","\u001b[0m\u001b[33m[4.274ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$fkLipV6Vn8KKo2uXK9JC8eA6dQFjW2RiHRJvmJP5LS3mNv1byZnqm', 'admin', '1234567890')\n","\r\n","2025/09/04 10:12:08 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[4.339ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","--- PASS: TestLoginUser (12.41s)",""],"Passed":true,"Skipped":false,"TestFileName":"user_gateway_test.go","TestFunctionDetail":{"Line":45,"Col":1}},{"TestName":"TestOrderWithSideDish","Package":"restaurant_manager/tests/integration","ElapsedTime":10.73,"Output":["","=== RUN   TestOrderWithSideDish\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:08:09-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:09-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:09-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[3.138ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'alice@admin.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[4.550ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1','aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1','ordered',58000,NULL,0,0,0,'2025-09-04 15:08:09.859') RETURNING *\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.776ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1',\"status\"='occupied' WHERE table_id = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.130ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '4b5375b8-f6a1-48f2-afff-ad75fc79462b'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.789ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[7.969ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '4b5375b8-f6a1-48f2-afff-ad75fc79462b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.843ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('35','62','60')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.691ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[3.531ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.820ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('4b5375b8-f6a1-48f2-afff-ad75fc79462b','ccccccc1-cccc-cccc-cccc-ccccccccccc1',1,50000,'pending','')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.337ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('35','62','60')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.722ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.120ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.920ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '35' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.333ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '62' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.338ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '60' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[2.394ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee1-eeee-eeee-eeee-eeeeeeeeeee1',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='35',\"quantity\"=800,\"unit\"='g',\"minimum_quantity\"=200,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=1600,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.881' WHERE inventory_id = 'eeeeeee1-eeee-eeee-eeee-eeeeeeeeeee1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.131ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee2-eeee-eeee-eeee-eeeeeeeeeee2',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='62',\"quantity\"=490,\"unit\"='g',\"minimum_quantity\"=100,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=8000,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.884' WHERE inventory_id = 'eeeeeee2-eeee-eeee-eeee-eeeeeeeeeee2'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.069ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee3-eeee-eeee-eeee-eeeeeeeeeee3',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='60',\"quantity\"=1997,\"unit\"='g',\"minimum_quantity\"=500,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=1200,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.885' WHERE inventory_id = 'eeeeeee3-eeee-eeee-eeee-eeeeeeeeeee3'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.680ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.019ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '4b5375b8-f6a1-48f2-afff-ad75fc79462b'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.296ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.752ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '4b5375b8-f6a1-48f2-afff-ad75fc79462b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.935ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.656ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.108ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.402ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('4b5375b8-f6a1-48f2-afff-ad75fc79462b','ccccccc3-cccc-cccc-cccc-ccccccccccc3',1,8000,'pending','Guardicion bife a la criolla')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.305ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.664ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.040ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.326ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '107' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.373ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '108' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.008ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='107',\"quantity\"=800,\"unit\"='g',\"minimum_quantity\"=200,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=2000,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.894' WHERE inventory_id = 'eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.010ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='108',\"quantity\"=450,\"unit\"='ml',\"minimum_quantity\"=100,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=1000,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.895' WHERE inventory_id = 'eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.631ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" IN ('ccccccc1-cccc-cccc-cccc-ccccccccccc1','ccccccc3-cccc-cccc-cccc-ccccccccccc3')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.998ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '4b5375b8-f6a1-48f2-afff-ad75fc79462b'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.365ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.772ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '4b5375b8-f6a1-48f2-afff-ad75fc79462b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.358ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.760ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.234ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.343ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('4b5375b8-f6a1-48f2-afff-ad75fc79462b','ccccccc3-cccc-cccc-cccc-ccccccccccc3',1,8000,'pending','')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.281ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.616ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.955ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.376ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '107' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.319ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '108' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.071ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='107',\"quantity\"=600,\"unit\"='g',\"minimum_quantity\"=200,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=2000,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.903' WHERE inventory_id = 'eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7'\n","\r\n","2025/09/04 10:08:09 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[0.940ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='108',\"quantity\"=400,\"unit\"='ml',\"minimum_quantity\"=100,\"last_restock_date\"='2025-09-04 15:08:06.075',\"price\"=1000,\"created_at\"='2025-09-04 15:08:06.075',\"updated_at\"='2025-09-04 15:08:09.904' WHERE inventory_id = 'eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8'\n","--- PASS: TestOrderWithSideDish (10.73s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":151,"Col":1}},{"TestName":"TestRecoverVoidOrderItem","Package":"restaurant_manager/tests/integration","ElapsedTime":11.29,"Output":["","=== RUN   TestRecoverVoidOrderItem\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:08:20-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:20-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:20-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:217\n","\u001b[0m\u001b[33m[4.998ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:224\n","\u001b[0m\u001b[33m[1.774ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id, description, image_url)\n","\t\tVALUES ('Test Restaurant', 'a704a632-90d3-4715-8906-c5785b24c69b', 'Test Description', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:231\n","\u001b[0m\u001b[33m[1.446ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('7f0e0c3b-453d-4618-9af1-b409adc752ed', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:238\n","\u001b[0m\u001b[33m[1.439ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('7f0e0c3b-453d-4618-9af1-b409adc752ed', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[2.645ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('bdf01437-f17b-4d32-a82c-27ad699971be','7f0e0c3b-453d-4618-9af1-b409adc752ed','ordered',21.98,NULL,0,0,0,'2025-09-04 15:08:21.267') RETURNING *\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.041ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='bdf01437-f17b-4d32-a82c-27ad699971be',\"status\"='occupied' WHERE table_id = 'bdf01437-f17b-4d32-a82c-27ad699971be'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.348ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'ecf4611d-ce3c-4500-9101-74b983aa1fd9'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.868ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bdf01437-f17b-4d32-a82c-27ad699971be'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[8.109ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'ecf4611d-ce3c-4500-9101-74b983aa1fd9' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.760ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.566ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.740ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('ecf4611d-ce3c-4500-9101-74b983aa1fd9','10757664-abbc-4e0d-a15c-889f4bfabd8d',2,10.99,'pending','Test void')\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.307ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.655ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:88\n","\u001b[0m\u001b[33m[0.855ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE order_id = 'ecf4611d-ce3c-4500-9101-74b983aa1fd9' AND menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' AND observation = 'Test void' ORDER BY \"order_items\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:73\n","\u001b[0m\u001b[33m[0.885ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"order_items\" SET \"order_id\"='ecf4611d-ce3c-4500-9101-74b983aa1fd9',\"menu_item_id\"='10757664-abbc-4e0d-a15c-889f4bfabd8d',\"quantity\"=1,\"price\"=10.99,\"status\"='pending',\"observation\"='Test void' WHERE order_id = 'ecf4611d-ce3c-4500-9101-74b983aa1fd9' AND menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' AND observation = 'Test void'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:103\n","\u001b[0m\u001b[33m[1.267ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"void_order_items\" (\"restaurant_id\",\"menu_item_id\",\"quantity\",\"price\",\"observation\",\"void_reason\",\"status\",\"created_at\") VALUES ('7f0e0c3b-453d-4618-9af1-b409adc752ed','10757664-abbc-4e0d-a15c-889f4bfabd8d',1,10.99,'Test void','void','voided','2025-09-04 15:08:21.286') RETURNING *\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[0.662ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[1.394ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE restaurant_id = '7f0e0c3b-453d-4618-9af1-b409adc752ed'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[1.164ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('bdf01437-f17b-4d32-a82c-27ad699971be','7f0e0c3b-453d-4618-9af1-b409adc752ed','ordered',10.99,NULL,0,0,0,'2025-09-04 15:08:21.289') RETURNING *\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.015ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='bdf01437-f17b-4d32-a82c-27ad699971be',\"status\"='occupied' WHERE table_id = 'bdf01437-f17b-4d32-a82c-27ad699971be'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.315ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'b8e81788-4fd7-4501-abad-eeafaad79d8b'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.354ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bdf01437-f17b-4d32-a82c-27ad699971be'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.066ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'b8e81788-4fd7-4501-abad-eeafaad79d8b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.355ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.761ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.199ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('b8e81788-4fd7-4501-abad-eeafaad79d8b','10757664-abbc-4e0d-a15c-889f4bfabd8d',1,10.99,'pending','Test void')\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.331ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.671ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:330\n","\u001b[0m\u001b[33m[0.673ms] \u001b[34;1m[rows:1]\u001b[0m SELECT void_order_item_id FROM servu.void_order_items WHERE restaurant_id = '7f0e0c3b-453d-4618-9af1-b409adc752ed' LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[0.725ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[1.538ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE void_order_item_id = '3f20c52f-fa06-493d-a4d4-c0e70ae00ca7' ORDER BY \"void_order_items\".\"void_order_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.330ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.940ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'b8e81788-4fd7-4501-abad-eeafaad79d8b'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.654ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bdf01437-f17b-4d32-a82c-27ad699971be'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.327ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'b8e81788-4fd7-4501-abad-eeafaad79d8b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:73\n","\u001b[0m\u001b[33m[0.399ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"order_items\" SET \"order_id\"='b8e81788-4fd7-4501-abad-eeafaad79d8b',\"menu_item_id\"='10757664-abbc-4e0d-a15c-889f4bfabd8d',\"quantity\"=1,\"price\"=10.99,\"status\"='prepared',\"observation\"='Test void' WHERE order_id = 'b8e81788-4fd7-4501-abad-eeafaad79d8b' AND menu_item_id = '10757664-abbc-4e0d-a15c-889f4bfabd8d' AND observation = 'Test void'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:115\n","\u001b[0m\u001b[33m[0.593ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"void_order_items\" WHERE void_order_item_id = '3f20c52f-fa06-493d-a4d4-c0e70ae00ca7'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[0.363ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE restaurant_id = '7f0e0c3b-453d-4618-9af1-b409adc752ed'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.281ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '10757664-abbc-4e0d-a15c-889f4bfabd8d'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.601ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'b8e81788-4fd7-4501-abad-eeafaad79d8b'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.322ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bdf01437-f17b-4d32-a82c-27ad699971be'\n","\r\n","2025/09/04 10:08:21 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.280ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'b8e81788-4fd7-4501-abad-eeafaad79d8b' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","--- PASS: TestRecoverVoidOrderItem (11.29s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":208,"Col":1}},{"TestName":"TestRecoverVoidOrderItemNoMatchingItem","Package":"restaurant_manager/tests/integration","ElapsedTime":11.23,"Output":["","=== RUN   TestRecoverVoidOrderItemNoMatchingItem\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:08:32-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:32-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:08:32-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:369\n","\u001b[0m\u001b[33m[8.527ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:376\n","\u001b[0m\u001b[33m[4.732ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id, description, image_url)\n","\t\tVALUES ('Test Restaurant', '5d4df2ec-9c06-4e6f-a701-92f6c6a4e17c', 'Test Description', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:383\n","\u001b[0m\u001b[33m[1.890ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('1a9ca2b1-0042-45ea-bd16-9f93d264d6b3', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:390\n","\u001b[0m\u001b[33m[1.501ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('1a9ca2b1-0042-45ea-bd16-9f93d264d6b3', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[3.261ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('9173fa40-91d3-437e-ac33-cc0fb829d27e','1a9ca2b1-0042-45ea-bd16-9f93d264d6b3','ordered',21.98,NULL,0,0,0,'2025-09-04 15:08:32.488') RETURNING *\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.992ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='9173fa40-91d3-437e-ac33-cc0fb829d27e',\"status\"='occupied' WHERE table_id = '9173fa40-91d3-437e-ac33-cc0fb829d27e'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[4.583ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'd649babf-e196-4f3c-abc8-1ef53c38f7e5'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.027ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '9173fa40-91d3-437e-ac33-cc0fb829d27e'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[16.407ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'd649babf-e196-4f3c-abc8-1ef53c38f7e5' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.073ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'feb07fcb-3e60-4e20-9e65-c13b627dd781'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.196ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'feb07fcb-3e60-4e20-9e65-c13b627dd781' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[2.674ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('d649babf-e196-4f3c-abc8-1ef53c38f7e5','feb07fcb-3e60-4e20-9e65-c13b627dd781',2,10.99,'pending','Test void')\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.366ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'feb07fcb-3e60-4e20-9e65-c13b627dd781'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.885ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'feb07fcb-3e60-4e20-9e65-c13b627dd781' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:88\n","\u001b[0m\u001b[33m[0.963ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE order_id = 'd649babf-e196-4f3c-abc8-1ef53c38f7e5' AND menu_item_id = 'feb07fcb-3e60-4e20-9e65-c13b627dd781' AND observation = 'Test void' ORDER BY \"order_items\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:73\n","\u001b[0m\u001b[33m[0.990ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"order_items\" SET \"order_id\"='d649babf-e196-4f3c-abc8-1ef53c38f7e5',\"menu_item_id\"='feb07fcb-3e60-4e20-9e65-c13b627dd781',\"quantity\"=1,\"price\"=10.99,\"status\"='pending',\"observation\"='Test void' WHERE order_id = 'd649babf-e196-4f3c-abc8-1ef53c38f7e5' AND menu_item_id = 'feb07fcb-3e60-4e20-9e65-c13b627dd781' AND observation = 'Test void'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:103\n","\u001b[0m\u001b[33m[1.389ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"void_order_items\" (\"restaurant_id\",\"menu_item_id\",\"quantity\",\"price\",\"observation\",\"void_reason\",\"status\",\"created_at\") VALUES ('1a9ca2b1-0042-45ea-bd16-9f93d264d6b3','feb07fcb-3e60-4e20-9e65-c13b627dd781',1,10.99,'Test void','void','voided','2025-09-04 15:08:32.519') RETURNING *\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[1.227ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('9173fa40-91d3-437e-ac33-cc0fb829d27e','1a9ca2b1-0042-45ea-bd16-9f93d264d6b3','ordered',0,NULL,0,0,0,'2025-09-04 15:08:32.521') RETURNING *\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.040ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='9173fa40-91d3-437e-ac33-cc0fb829d27e',\"status\"='occupied' WHERE table_id = '9173fa40-91d3-437e-ac33-cc0fb829d27e'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:463\n","\u001b[0m\u001b[33m[0.666ms] \u001b[34;1m[rows:1]\u001b[0m SELECT void_order_item_id FROM servu.void_order_items WHERE restaurant_id = '1a9ca2b1-0042-45ea-bd16-9f93d264d6b3' LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[0.764ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = 'feb07fcb-3e60-4e20-9e65-c13b627dd781'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[1.882ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE void_order_item_id = '890a85b8-c8ef-4da8-832f-fa305f009d21' ORDER BY \"void_order_items\".\"void_order_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.690ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '315c496b-8aa4-4439-a0d5-038aa3afb233'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.673ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '9173fa40-91d3-437e-ac33-cc0fb829d27e'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.232ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '315c496b-8aa4-4439-a0d5-038aa3afb233' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[0.723ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = 'feb07fcb-3e60-4e20-9e65-c13b627dd781'\n","\r\n","2025/09/04 10:08:32 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[1.544ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE restaurant_id = '1a9ca2b1-0042-45ea-bd16-9f93d264d6b3'\n","--- PASS: TestRecoverVoidOrderItemNoMatchingItem (11.23s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":360,"Col":1}}]},{"FailureIndicator":"","SkippedIndicator":"","TestResults":[{"TestName":"TestRegistryUser","Package":"restaurant_manager/tests/integration","ElapsedTime":11.63,"Output":["","=== RUN   TestRegistryUser\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:11:55-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:11:55-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:11:55-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:11:56 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[8.808ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:11:56 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:31\n","\u001b[0m\u001b[33m[4.728ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"users\" (\"name\",\"email\",\"password_hash\",\"role\",\"id_number\",\"phone\",\"restaurant_id\",\"nit_number\",\"created_at\") VALUES ('John Doe','john@example.com','$2a$10$mK0YLU9WpIPV7ampEv.Z5.JGpjMnQsEmdoeRR1/nZneW2GTWOBzLy','admin','1234567890','1234567890',NULL,'1234567890','2025-09-04 15:11:56.253') RETURNING *\n","--- PASS: TestRegistryUser (11.63s)",""],"Passed":true,"Skipped":false,"TestFileName":"user_gateway_test.go","TestFunctionDetail":{"Line":13,"Col":1}},{"TestName":"TestUpdateCashClosing","Package":"restaurant_manager/tests/integration","ElapsedTime":9.97,"Output":["","=== RUN   TestUpdateCashClosing\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:06:43-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:43-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:06:43-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:06:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:168\n","\u001b[0m\u001b[33m[4.019ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:06:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:176\n","\u001b[0m\u001b[33m[1.741ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'a4f0bc8d-6339-4702-b062-8d0b918f2f05') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:06:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:184\n","\u001b[0m\u001b[33m[1.908ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('a3dea1a6-c1c3-484d-bf51-09cdd917eaf4', '2025-08-15', 1000.0, 500.0, 'Original notes', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\t\tRETURNING cash_closing_id\n","\r\n","2025/09/04 10:06:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.357ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:06:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:36\n","\u001b[0m\u001b[33m[1.668ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"cash_closings\" WHERE restaurant_id = 'a3dea1a6-c1c3-484d-bf51-09cdd917eaf4' AND closing_date = '2025-08-15 00:00:00' ORDER BY \"cash_closings\".\"cash_closing_id\" LIMIT 1\n","\r\n","2025/09/04 10:06:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:52\n","\u001b[0m\u001b[33m[2.659ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"cash_closings\" SET \"restaurant_id\"='a3dea1a6-c1c3-484d-bf51-09cdd917eaf4',\"closing_date\"='2025-08-15 00:00:00',\"cash_in_register\"=1200,\"cash_withdrawn\"=600,\"notes\"='Updated notes',\"total_sales\"=75000,\"total_revenue\"=75000,\"total_costs\"=31200,\"total_profit\"=43800,\"order_count\"=2,\"average_order_value\"=37500,\"created_at\"='2025-09-04 15:06:43.605',\"updated_at\"='2025-09-04 15:06:43.686' WHERE \"cash_closing_id\" = 'be7abf00-31f4-41be-b2ce-a88cb35bb106'\n","--- PASS: TestUpdateCashClosing (9.97s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":159,"Col":1}},{"TestName":"TestUpdateMenuItem","Package":"restaurant_manager/tests/integration","ElapsedTime":7.66,"Output":["","=== RUN   TestUpdateMenuItem\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:07:41-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:41-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:07:41-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[3.155ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'alice@admin.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.111ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('35','62','60')\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.629ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[15.003ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:49\n","\u001b[0m\u001b[33m[2.063ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"ingredient_id\" = 'dddddddd-dddd-dddd-dddd-dddddddd0001' RETURNING *\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:49\n","\u001b[0m\u001b[33m[1.107ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"ingredient_id\" = 'dddddddd-dddd-dddd-dddd-dddddddd0002' RETURNING *\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:49\n","\u001b[0m\u001b[33m[0.990ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"ingredient_id\" = 'dddddddd-dddd-dddd-dddd-dddddddd0003' RETURNING *\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:21\n","\u001b[0m\u001b[33m[4.606ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"ingredients\" (\"menu_item_id\",\"raw_ingredient_id\",\"price\",\"amount\",\"unit\") VALUES ('ccccccc1-cccc-cccc-cccc-ccccccccccc1','107',100000,250,'g') RETURNING *\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:34\n","\u001b[0m\u001b[33m[1.529ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"menu_items\" SET \"menu_item_id\"='ccccccc1-cccc-cccc-cccc-ccccccccccc1',\"name\"='Bife a la Criolla',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"description\"='Bife a la criolla con papas fritas y ensalada',\"price\"=50000,\"available\"=true,\"side_dishes\"=3,\"image_url\"='https://servu-web.s3.us-east-1.amazonaws.com/TestMock/menu/bife.jpg',\"category\"='Main' WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[1.258ms] \u001b[34;1m[rows:14]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('53','94','26','107','108','109','110','111','112','113','114','115','116','117')\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[3.338ms] \u001b[34;1m[rows:16]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" IN ('ccccccc1-cccc-cccc-cccc-ccccccccccc1','ccccccc2-cccc-cccc-cccc-ccccccccccc2','ccccccc3-cccc-cccc-cccc-ccccccccccc3','ccccccc4-cccc-cccc-cccc-ccccccccccc4','ccccccc5-cccc-cccc-cccc-ccccccccccc5','ccccccc6-cccc-cccc-cccc-ccccccccccc6')\n","\r\n","2025/09/04 10:07:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[5.091ms] \u001b[34;1m[rows:6]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1'\n","--- PASS: TestUpdateMenuItem (7.66s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":209,"Col":1}},{"TestName":"TestUpdateRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":11.42,"Output":["","=== RUN   TestUpdateRestaurant\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:09:11-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:11-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:09:11-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:09:11 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:151\n","\u001b[0m\u001b[33m[4.907ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:09:11 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:158\n","\u001b[0m\u001b[33m[1.526ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'addc4486-6cc6-4716-ad91-4ce309714880') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:09:11 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.214ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:09:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:51\n","\u001b[0m\u001b[33m[3.015ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"restaurants\" SET \"restaurant_id\"='187eb865-2c10-499b-9d8a-09aff0976150',\"name\"='Test Restaurant_2',\"owner_id\"='addc4486-6cc6-4716-ad91-4ce309714880' WHERE restaurant_id = '187eb865-2c10-499b-9d8a-09aff0976150'\n","--- PASS: TestUpdateRestaurant (11.42s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":143,"Col":1}},{"TestName":"TestUpdateTable","Package":"restaurant_manager/tests/integration","ElapsedTime":11.84,"Output":["","=== RUN   TestUpdateTable\n","{\"level\":\"error\",\"time\":\"2025-09-04T10:11:43-05:00\",\"message\":\"Error loading .env file open .env: no such file or directory\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:11:43-05:00\",\"message\":\"APP_ENV: test\"}\n","{\"level\":\"info\",\"time\":\"2025-09-04T10:11:43-05:00\",\"message\":\"data: restaurant_manager:\\n  database: \\\"postgres://postgres:postgres@localhost:5434/servu?sslmode=disable\u0026timezone=UTC\\\"\\n  jwt:\\n    private_key_path: \\\"resources/private.key\\\"\\n    public_key_path: \\\"resources/public.key\\\"\\n  aws:\\n    profile: \\\"devprofile\\\"\\n    region: \\\"us-east-1\\\"\"}\n","✅ Connected to PostgreSQL\n","\r\n","2025/09/04 10:11:44 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:151\n","\u001b[0m\u001b[33m[4.874ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/09/04 10:11:44 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:158\n","\u001b[0m\u001b[33m[1.810ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, description, image_url, owner_id)\n","\t\tVALUES ('Test Restaurant', 'Test Description', 'https://test.com', '6bf782c8-91d3-4062-af08-10449a05a991') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/09/04 10:11:44 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.627ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/09/04 10:11:44 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:168\n","\u001b[0m\u001b[33m[2.459ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code, status)\n","\t\tVALUES ('ea4cdb20-8bb8-4320-ad4e-a3f2b5cd21f4', 2, 'QR_CODE', 'available') \n","\t\tRETURNING table_id\n","\r\n","2025/09/04 10:11:44 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.437ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='a3164e10-dfeb-4d85-aef8-0095b35c839d',\"restaurant_id\"='ea4cdb20-8bb8-4320-ad4e-a3f2b5cd21f4',\"table_number\"=2,\"qr_code\"='QR_CODE_URL_3',\"status\"='available' WHERE table_id = 'a3164e10-dfeb-4d85-aef8-0095b35c839d'\n","--- PASS: TestUpdateTable (11.84s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":143,"Col":1}}]}]

    const report = window.GoTestReport({
                                         data: data,
                                         testResultsElem: document.getElementById('testResults'),
                                         testGroupListElem: document.getElementById('testGroupList')
                                       });


</script>
</body>
</html>
