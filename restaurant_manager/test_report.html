<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>go-test-report</title>
    <style type="text/css">
        body {
            font-family: sans-serif;
            background-color: #f3f3f3;
            border-top: 2px #dee6e8 solid;
            margin: 0;
        }

        div.pageHeader span.projectTitle {
            font-family: serif;
            font-size: 2em;
            padding-left: 56px;
            padding-top: 80px;
            display: block;
            color: #a5a5a5;
            text-shadow: 0 -1px 1px white;
        }

        div.pageHeader div.testStats {
            position: absolute;
            top: 7px;
            right: 52px;
            font-size: 0.8em;
            color: #a2a2a2;
        }

        div.pageHeader div.testStats span.indicator {
            font-size: 2em;
            position: relative;
            top: 5px;
            text-shadow: 0 1px 0 white;
        }

        div.pageHeader div.testStats span strong {
            margin-right: 16px;
        }

        div.pageHeader div.testStats span.total {
            border-right: 1px #afafaf dotted;
            background: #8298af;
        }

        div.pageHeader div.testStats span.passed {
            border-right: 1px #afafaf dotted;
            background: #6fca83;
        }

        div.pageHeader div.testStats span.skipped {
            background: #bababa;
        }

        div.pageHeader div.testStats span.failed {
            background: #ff7676;
        }

        div.pageHeader div.testStats span {
            margin-right: 1px;
            height: 55px;
            padding: 20px 8px 18px;
            color: white;
        }

        div.pageHeader .testGroupsTitle {
            margin: 16px 32px 8px 40px;
            font-size: 0.9em;
            color: darkgrey;
            display: inline-block;
        }

        div.pageHeader .testExecutionDate {
            display: inline-block;
            position: absolute;
            right: 10px;
            margin: 14px 32px 8px 40px;
            color: #9e9e9e;
            font-size: 0.9em;
        }

        .testReportContainer {
            padding: 0 32px 32px 32px;
        }

        .cardContainer {
            padding: 16px 16px 16px;
            box-shadow: 0 4px 4px #d4d4d4;
            background-color: white;
        }

        #testResults {
            display: flex;
            flex-wrap: wrap;
        }

        .testResultGroup {
            width: 24px;
            height: 24px;
            background-color: #43c143;
            margin-left: 1px;
            margin-bottom: 1px;
            box-sizing: border-box;
        }

        .testResultGroup.selected {
            border: 1px white solid;
            background-color: black !important;
        }

        .testResultGroup.skipped {
            border: 2px gray solid;
        }

        .testResultGroup.failed {
            background-color: red;
        }

        .cardContainer.testGroupList,
        .cardContainer.testDetail {
            margin-top: 16px;
            padding: 16px;
        }

        .cardContainer.testGroupList {
            color: #9c9c9c;
            padding: 0;
        }

        .cardContainer.testGroupList .testGroupRow {
            cursor: default;
            border-bottom: 1px #dadada dotted;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus {
            font-size: 1.2em;
            font-weight: bold;
            color: #139e13;
            pointer-events: none;
            display: inline-block;
            overflow: hidden;
            float: left;
            padding-top: 10px;
            padding-left: 20px;
            padding-right: 12px;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus.skipped {
            color: gray;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus.failed {
            color: red;
        }

        .cardContainer.testGroupList .testGroupRow span.testTitle {
            font-size: 0.9em;
            padding: 12px 0 10px;
            display: inline-block;
            pointer-events: none;
            color: #525252;
            text-overflow: ellipsis;
            overflow: hidden;
            width: calc(100% - 110px);
        }

        .cardContainer.testGroupList .testGroupRow span.testDuration {
            pointer-events: none;
        }

        .cardContainer.testGroupList .testGroupRow {
            position: relative;
            border-left: 4px #43c143 solid;
        }

        .cardContainer.testGroupList .testGroupRow.skipped {
            color: gray;
            border-left: 4px gray solid;
        }

        .cardContainer.testGroupList .testGroupRow.failed {
            color: red;
            border-left: 4px red solid;
        }

        .cardContainer.testGroupList .testGroupRow:hover {
            background-color: #fffaea;
            transition: 0.250s;
        }

        .cardContainer .testOutput {
            padding: 8px 16px 24px 16px;
        }

        .cardContainer .console {
            display: block;
            font-family: monospace;
            padding: 10px;
            background-color: #424242;
            color: #1aff00;
            border-bottom: 1px #1aff00 dotted;
            overflow: auto;
            font-size: 1.1em;
        }

        .cardContainer .testOutput .testDetail {
            border-bottom: 1px #d0d0d0 solid;
            padding: 16px;
            background-color: #e6e6e6;
            border-radius: 0 0 4px 4px;
            color: dimgrey;
            font-size: 0.8em;
        }

        .cardContainer .console.skipped{
            color: #d9d9d9;
        }

        .cardContainer .console.failed {
            color: #ffb2b2;
        }

        .cardContainer .testDuration {
            position: absolute;
            top: 5px;
            right: 8px;
            text-align: right;
            padding-right: 8px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<div class="pageHeader">
    <span class="projectTitle">go-test-report</span>
    <div class="testStats">
        <span class="total"><span class="indicator">&boxbox;</span> Total: <strong>25</strong>Duration: <strong>4m5.481s</strong>
        </span><span class="passed"><span class="indicator">&check;</span> Passed: <strong>25</strong>
        </span><span class="skipped"><span class="indicator">&dash;</span> Skipped: <strong>0</strong>
        </span><span class="failed"><span class="indicator">&cross;</span> Failed: <strong>0</strong>
        </span>
    </div>
    <span class="testGroupsTitle">Test Groups:</span>
    <span class="testExecutionDate">August 20, 2025 18:40:16</span>
</div>
<div class="testReportContainer">
    <div class="cardContainer">
        <div id="testResults">
            
                <div class="testResultGroup  " id="0"></div>
            
                <div class="testResultGroup  " id="1"></div>
            
        </div>
    </div>
    <div class="cardContainer testGroupList" id="testGroupList"></div>
</div>
<script type="application/javascript">
    /**
 * @typedef TestStatus
 * @property {string} TestName
 * @property {string} Package
 * @property {number} ElapsedTime
 * @property {Array.<string>} Output
 * @property {boolean} Passed
 * @property {boolean} Skipped
 */
class TestStatus {}

/**
 * @typedef TestGroupData
 * @type {object}
 * @property {string} FailureIndicator
 * @property {string} SkippedIndicator
 * @property {Array.<TestStatus>}
 */
class TestGroupData {}

/**
 * @typedef TestResults
 * @type {Array.<TestGroupData>}
 */
class TestResults extends Array {}

/**
 * @typedef SelectedItems
 * @property {HTMLElement|EventTarget} testResults
 * @property {String} selectedTestGroupColor
 */
class SelectedItems {}

/**
 * @typedef GoTestReportElements
 * @property {TestResults} data
 * @property {HTMLElement} testResultsElem
 * @property {HTMLElement} testGroupListElem
 */
class GoTestReportElements {}


/**
 * Main entry point for GoTestReport.
 * @param {GoTestReportElements} elements
 * @returns {{testResultsClickHandler: testResultsClickHandler}}
 * @constructor
 */
window.GoTestReport = function (elements) {
  const /**@type {SelectedItems}*/ selectedItems = {
    testResults: null,
    selectedTestGroupColor: null
  }

  function addEventData(event) {
    if (event.data == null) {
      event.data = {target: event.target}
    }
    return event
  }


  const goTestReport = {
    /**
     * Invoked when a user clicks on one of the test group div elements.
     * @param {HTMLElement} target The element associated with the test group.
     * @param {boolean} shiftKey If pressed, all of test detail associated to the test group is shown.
     * @param {TestResults} data
     * @param {SelectedItems} selectedItems
     * @param {function(target: Element, data: TestResults)} testGroupListHandler
     */
    testResultsClickHandler: function (target,
                                       shiftKey,
                                       data,
                                       selectedItems,
                                       testGroupListHandler) {

      if (target.classList.contains('testResultGroup') === false) {
        return
      }
      if (selectedItems.testResults != null) {
        let testResultsElement = /**@type {HTMLElement}*/ selectedItems.testResults
        testResultsElement.classList.remove("selected")
        testResultsElement.style.backgroundColor = selectedItems.selectedTestGroupColor
      }
      const testGroupId = /**@type {number}*/ target.id
      if ((target.id === undefined)
        || (data[testGroupId] === undefined)
        || (data[testGroupId]['TestResults'] === undefined)) {
        return
      }
      const testResults = /**@type {TestResults}*/ data[testGroupId]['TestResults']
      let testGroupList = /**@type {string}*/ ''
      selectedItems.selectedTestGroupColor = getComputedStyle(target).getPropertyValue('background-color')
      selectedItems.testResults = target
      target.classList.add("selected")
      for (let i = 0; i < testResults.length; i++) {
        const testResult = /**@type {TestGroupData}*/ testResults[i]
        const testPassed = /**@type {boolean}*/ testResult.Passed
        const testSkipped = /**@type {boolean}*/ testResult.Skipped
        const testPassedStatus = /**@type {string}*/ (testPassed) ? '' : (testSkipped ? 'skipped' : 'failed')
        const testId = /**@type {string}*/ target.attributes['id'].value
        testGroupList += `<div class="testGroupRow ${testPassedStatus}" data-groupid="${testId}" data-index="${i}">
        <span class="testStatus ${testPassedStatus}">${(testPassed) ? '&check' : (testSkipped ? '&dash' : '&cross')};</span>
        <span class="testTitle">${testResult.TestName}</span>
        <span class="testDuration"><span>${testResult.ElapsedTime}s </span>⏱</span>
      </div>`
      }
      const testGroupListElem = elements.testGroupListElem
      testGroupListElem.innerHTML = ''
      testGroupListElem.innerHTML = testGroupList

      if (shiftKey) {
        testGroupListElem.querySelectorAll('.testGroupRow')
                         .forEach((elem) => testGroupListHandler(elem, data))
      } else if (testResults.length === 1) {
        testGroupListHandler(testGroupListElem.querySelector('.testGroupRow'), data)
      }
    },

    /**
     *
     * @param {Element} target
     * @param {TestResults} data
     */
    testGroupListHandler: function (target, data) {
      const attribs = target['attributes']
      if (attribs.hasOwnProperty('data-groupid')) {
        const groupId = /**@type {number}*/ attribs['data-groupid'].value
        const testIndex = /**@type {number}*/ attribs['data-index'].value
        const testStatus = /**@type {TestStatus}*/ data[groupId]['TestResults'][testIndex]
        const testOutputDiv = /**@type {HTMLDivElement}*/ target.querySelector('div.testOutput')

        if (testOutputDiv == null) {
          const testOutputDiv = document.createElement('div')
          testOutputDiv.classList.add('testOutput')
          const consolePre = document.createElement('pre')
          consolePre.classList.add('console')
          const testDetailDiv = document.createElement('div')
          testDetailDiv.classList.add('testDetail')
          const packageNameDiv = document.createElement('div')
          packageNameDiv.classList.add('package')
          packageNameDiv.innerHTML = `<strong>Package:</strong> ${testStatus.Package}`
          const testFileNameDiv = document.createElement('div')
          testFileNameDiv.classList.add('filename')
          if (testStatus.TestFileName.trim() === "") {
            testFileNameDiv.innerHTML = `<strong>Filename:</strong> n/a &nbsp;&nbsp;`
          } else {
            testFileNameDiv.innerHTML = `<strong>Filename:</strong> ${testStatus.TestFileName} &nbsp;&nbsp;`
            testFileNameDiv.innerHTML += `<strong>Line:</strong> ${testStatus.TestFunctionDetail.Line} `
            testFileNameDiv.innerHTML += `<strong>Col:</strong> ${testStatus.TestFunctionDetail.Col}`
          }
          testDetailDiv.insertAdjacentElement('beforeend', packageNameDiv)
          testDetailDiv.insertAdjacentElement('beforeend', testFileNameDiv)
          testOutputDiv.insertAdjacentElement('afterbegin', consolePre)
          testOutputDiv.insertAdjacentElement('beforeend', testDetailDiv)
          target.insertAdjacentElement('beforeend', testOutputDiv)

          if (testStatus.Passed) {
            consolePre.classList.remove('skipped')
            consolePre.classList.remove('failed')
          } else if (testStatus.Skipped) {
            consolePre.classList.add('skipped')
            consolePre.classList.remove('failed')
          } else {
            consolePre.classList.remove('skipped')
            consolePre.classList.add('failed')
          }
          consolePre.textContent = testStatus.Output.join('')
        } else {
          testOutputDiv.remove()
        }
      }
    }
  }

  //+------------------------+
  //|    setup DOM events    |
  //+------------------------+
  elements.testResultsElem
          .addEventListener('click', event =>
            goTestReport.testResultsClickHandler(/**@type {HTMLElement}*/ addEventData(event).data.target,
                                                 event.shiftKey,
                                                 elements.data,
                                                 selectedItems,
                                                 goTestReport.testGroupListHandler))

  elements.testGroupListElem
          .addEventListener('click', event =>
            goTestReport.testGroupListHandler(/**@type {Element}*/ event.target,
                                              elements.data))

  return goTestReport
}


    

    const data = [{"FailureIndicator":"","SkippedIndicator":"","TestResults":[{"TestName":"TestAddMenu","Package":"restaurant_manager/tests/integration","ElapsedTime":12.56,"Output":["","=== RUN   TestAddMenu\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:37:18 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:27\n","\u001b[0m\u001b[33m[3.599ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:37:18 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:34\n","\u001b[0m\u001b[33m[1.678ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '9f28fd02-8f53-4d9f-baf2-ebb5c4b4d62e') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:37:18 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.671ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:18 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:20\n","\u001b[0m\u001b[33m[2.606ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"menu_items\" (\"name\",\"restaurant_id\",\"description\",\"price\",\"available\",\"side_dishes\",\"image_url\",\"category\") VALUES ('Burger','09799f68-8a6f-40b1-899a-157b6ea44ada','Juicy beef burger',10.99,true,0,'https://servu-web.s3.amazonaws.com/9f28fd02-8f53-4d9f-baf2-ebb5c4b4d62e/menu/1755733038625988000.jpg','Main') RETURNING *\n","--- PASS: TestAddMenu (12.56s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":19,"Col":1}},{"TestName":"TestAddMenuItemWithIngredients","Package":"restaurant_manager/tests/integration","ElapsedTime":9.65,"Output":["","=== RUN   TestAddMenuItemWithIngredients\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:127\n","\u001b[0m\u001b[33m[3.090ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:134\n","\u001b[0m\u001b[33m[1.481ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '08fc328e-7eca-4a53-9cc8-f99c2774c0e4') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.601ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:20\n","\u001b[0m\u001b[33m[2.557ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"menu_items\" (\"name\",\"restaurant_id\",\"description\",\"price\",\"available\",\"side_dishes\",\"image_url\",\"category\") VALUES ('Burger','7d03634c-7568-453d-be21-d631303c1a80','Juicy beef burger',10.99,true,0,'https://servu-web.s3.amazonaws.com/08fc328e-7eca-4a53-9cc8-f99c2774c0e4/menu/1755733055885561000.jpg','Main') RETURNING *\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:21\n","\u001b[0m\u001b[33m[2.102ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"ingredients\" (\"menu_item_id\",\"raw_ingredient_id\",\"price\",\"amount\",\"unit\") VALUES ('d12a0ae6-b7cf-4b27-944c-0bacef99fbb6','107',100000,250,'g') RETURNING *\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:21\n","\u001b[0m\u001b[33m[1.436ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"ingredients\" (\"menu_item_id\",\"raw_ingredient_id\",\"price\",\"amount\",\"unit\") VALUES ('d12a0ae6-b7cf-4b27-944c-0bacef99fbb6','2',100000,100,'g') RETURNING *\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[0.814ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','2')\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[1.539ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'd12a0ae6-b7cf-4b27-944c-0bacef99fbb6'\n","\r\n","2025/08/20 18:37:35 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[2.601ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE restaurant_id = '7d03634c-7568-453d-be21-d631303c1a80'\n","--- PASS: TestAddMenuItemWithIngredients (9.65s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":119,"Col":1}},{"TestName":"TestAddRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":9.61,"Output":["","=== RUN   TestAddRestaurant\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:38:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:27\n","\u001b[0m\u001b[33m[3.493ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:38:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.288ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:43 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:21\n","\u001b[0m\u001b[33m[2.189ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"restaurants\" (\"name\",\"description\",\"owner_id\",\"image_url\",\"created_at\") VALUES ('Test Restaurant','Test Description','3ccde225-fd9d-4e6d-ab18-658c854166c6','https://servu-web.s3.amazonaws.com/3ccde225-fd9d-4e6d-ab18-658c854166c6/restaurant/1755733123874191000.jpg','2025-08-20 18:38:43.888') RETURNING *\n","--- PASS: TestAddRestaurant (9.61s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":19,"Col":1}},{"TestName":"TestAddTable","Package":"restaurant_manager/tests/integration","ElapsedTime":10.45,"Output":["","=== RUN   TestAddTable\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:39:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:24\n","\u001b[0m\u001b[33m[2.820ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:39:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:31\n","\u001b[0m\u001b[33m[1.253ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '853bb708-01b1-492a-acb6-52ca2358fc06') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:39:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.517ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:39:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:20\n","\u001b[0m\u001b[33m[3.479ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"tables\" (\"restaurant_id\",\"table_number\",\"qr_code\",\"status\",\"created_at\") VALUES ('95eb8cf6-95d3-44ac-b4f9-366fa2f6cdcd',2,'QR_CODE_URL_2','available','2025-08-20 18:39:24.186') RETURNING *\n","--- PASS: TestAddTable (10.45s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":16,"Col":1}},{"TestName":"TestCreateCashClosing","Package":"restaurant_manager/tests/integration","ElapsedTime":11.19,"Output":["","=== RUN   TestCreateCashClosing\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:25\n","\u001b[0m\u001b[33m[3.367ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:33\n","\u001b[0m\u001b[33m[1.501ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'd6c9d2ec-ffda-43fa-abb3-8cab0ea441b6') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:310\n","\u001b[0m\u001b[33m[1.431ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('77e95abf-fbaf-46f9-ad25-b534b2f956a8', 'Burger', 'Juicy beef burger', 35000.0, true, 'Main', 'https://example.com/burger.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:317\n","\u001b[0m\u001b[33m[1.481ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('77e95abf-fbaf-46f9-ad25-b534b2f956a8', 'Pizza', 'Delicious pizza', 40000.0, true, 'Main', 'https://example.com/pizza.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:323\n","\u001b[0m\u001b[33m[1.209ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('a5779cfb-dc8b-4a83-b686-333b856be84a', '107', 250, 'g', 15000.0)\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:326\n","\u001b[0m\u001b[33m[1.234ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('a5779cfb-dc8b-4a83-b686-333b856be84a', '2', 100, 'g', 8000.0)\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:329\n","\u001b[0m\u001b[33m[0.949ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('08125992-3f37-43df-846a-97bbbd3d1ede', '107', 300, 'g', 18000.0)\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:332\n","\u001b[0m\u001b[33m[0.805ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('08125992-3f37-43df-846a-97bbbd3d1ede', '3', 150, 'g', 12000.0)\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:339\n","\u001b[0m\u001b[33m[1.154ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('77e95abf-fbaf-46f9-ad25-b534b2f956a8', 1, 'QR_CODE_1')\n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:348\n","\u001b[0m\u001b[33m[1.225ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('77e95abf-fbaf-46f9-ad25-b534b2f956a8', 'b2a82e0a-d859-4ab8-b58f-285e2821dc7b', 'paid', 35000.0, '2025-08-15 12:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:355\n","\u001b[0m\u001b[33m[1.587ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('77e95abf-fbaf-46f9-ad25-b534b2f956a8', 'b2a82e0a-d859-4ab8-b58f-285e2821dc7b', 'paid', 40000.0, '2025-08-15 18:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:361\n","\u001b[0m\u001b[33m[1.187ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('3c9ce43c-b67a-466e-aaff-11d8d26cac14', 'a5779cfb-dc8b-4a83-b686-333b856be84a', 1, 35000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:364\n","\u001b[0m\u001b[33m[0.878ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('ea1fe3fe-f121-45ec-9b9c-ca8ff3f3f0cb', '08125992-3f37-43df-846a-97bbbd3d1ede', 1, 40000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.169ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","2025/08/20 18:36:20 Creating cash closing for restaurant 77e95abf-fbaf-46f9-ad25-b534b2f956a8 on date 2025-08-15\n","\r\n","2025/08/20 18:36:20 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:24\n","\u001b[0m\u001b[33m[3.458ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"cash_closings\" (\"restaurant_id\",\"closing_date\",\"cash_in_register\",\"cash_withdrawn\",\"notes\",\"total_sales\",\"total_revenue\",\"total_costs\",\"total_profit\",\"order_count\",\"average_order_value\",\"created_at\",\"updated_at\") VALUES ('77e95abf-fbaf-46f9-ad25-b534b2f956a8','2025-08-15 00:00:00',1000,500,'Test cash closing',75000,75000,31200,43800,2,37500,'2025-08-20 18:36:20.482','2025-08-20 18:36:20.482') RETURNING *\n","2025/08/20 18:36:20 Successfully created cash closing with ID: 598eb214-7867-4601-b317-244a1b8aba5e\n","--- PASS: TestCreateCashClosing (11.19s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":16,"Col":1}},{"TestName":"TestCreateOrder","Package":"restaurant_manager/tests/integration","ElapsedTime":9.55,"Output":["","=== RUN   TestCreateOrder\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:25\n","\u001b[0m\u001b[33m[3.929ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:32\n","\u001b[0m\u001b[33m[1.422ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id, description, image_url)\n","\t\tVALUES ('Test Restaurant', '92af5e56-2e8d-44aa-a7d3-4dbd83dc71bb', 'Test Description', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:39\n","\u001b[0m\u001b[33m[2.379ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('6bea961a-b37d-43d3-b984-ccc7eb0690f8', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:46\n","\u001b[0m\u001b[33m[1.049ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('6bea961a-b37d-43d3-b984-ccc7eb0690f8', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[1.919ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('ecf5ab96-be0b-4d46-812e-ab6891890ece','6bea961a-b37d-43d3-b984-ccc7eb0690f8','ordered',21.98,NULL,0,0,0,'2025-08-20 18:37:55.919') RETURNING *\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.460ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='ecf5ab96-be0b-4d46-812e-ab6891890ece',\"status\"='occupied' WHERE table_id = 'ecf5ab96-be0b-4d46-812e-ab6891890ece'\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.998ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '568f62ec-3092-4d21-8d06-4d285ac74701'\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.775ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'ecf5ab96-be0b-4d46-812e-ab6891890ece'\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[6.791ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '568f62ec-3092-4d21-8d06-4d285ac74701' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.712ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'e4b500f6-2833-4342-a811-dc64b63fe25b'\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.466ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'e4b500f6-2833-4342-a811-dc64b63fe25b' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.976ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('568f62ec-3092-4d21-8d06-4d285ac74701','e4b500f6-2833-4342-a811-dc64b63fe25b',2,10.99,'pending','')\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.288ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'e4b500f6-2833-4342-a811-dc64b63fe25b'\n","\r\n","2025/08/20 18:37:55 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.646ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'e4b500f6-2833-4342-a811-dc64b63fe25b' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","--- PASS: TestCreateOrder (9.55s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":17,"Col":1}},{"TestName":"TestDeleteCashClosing","Package":"restaurant_manager/tests/integration","ElapsedTime":9.23,"Output":["","=== RUN   TestDeleteCashClosing\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:36:57 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:224\n","\u001b[0m\u001b[33m[3.198ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:36:57 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:232\n","\u001b[0m\u001b[33m[1.943ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '59732031-fdb3-4d16-b4cf-af5f703ca359') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:36:57 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:240\n","\u001b[0m\u001b[33m[1.310ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('bb802fa4-ee5d-4b33-b07f-690f1e9a2881', '2025-08-15', 1000.0, 500.0, 'Test notes', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\t\tRETURNING cash_closing_id\n","\r\n","2025/08/20 18:36:57 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.064ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:36:57 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:56\n","\u001b[0m\u001b[33m[2.950ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"cash_closings\" WHERE cash_closing_id = 'b3ccc239-55a5-45dd-89ef-c9b371225b78'\n","--- PASS: TestDeleteCashClosing (9.23s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":215,"Col":1}},{"TestName":"TestDeleteMenu","Package":"restaurant_manager/tests/integration","ElapsedTime":7.65,"Output":["","=== RUN   TestDeleteMenu\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:37:28 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:90\n","\u001b[0m\u001b[33m[2.972ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:37:28 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:97\n","\u001b[0m\u001b[33m[1.819ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '2806f241-ba28-4e09-94d1-73ffd4374251') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:37:28 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/menu_gateway_test.go:104\n","\u001b[0m\u001b[33m[1.347ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('50c4cf24-f5cf-43ac-8ae1-1d46fb1b6ad1', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:37:28 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:28\n","\u001b[0m\u001b[33m[2.194ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"menu_items\" WHERE menu_item_id = '5e24fcbf-706f-4485-a22a-98e3145cafd4'\n","--- PASS: TestDeleteMenu (7.65s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":82,"Col":1}},{"TestName":"TestDeleteOrder","Package":"restaurant_manager/tests/integration","ElapsedTime":8.86,"Output":["","=== RUN   TestDeleteOrder\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:89\n","\u001b[0m\u001b[33m[2.970ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:96\n","\u001b[0m\u001b[33m[1.397ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, description, image_url, owner_id)\n","\t\tVALUES ('Test Restaurant', 'Test Description', 'https://test.com', 'f4f2cf97-a777-4e15-ab55-4d11f5f180a6') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:103\n","\u001b[0m\u001b[33m[2.260ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('8c3a4f05-565f-4da1-828a-41b399694b6e', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:110\n","\u001b[0m\u001b[33m[0.992ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('8c3a4f05-565f-4da1-828a-41b399694b6e', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[1.843ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('57fb0201-cd30-4006-980e-3467e2517f2a','8c3a4f05-565f-4da1-828a-41b399694b6e','ordered',21.98,NULL,0,0,0,'2025-08-20 18:38:06.579') RETURNING *\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.814ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='57fb0201-cd30-4006-980e-3467e2517f2a',\"status\"='occupied' WHERE table_id = '57fb0201-cd30-4006-980e-3467e2517f2a'\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.016ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'a23ed7bc-6ff5-499f-bb90-f534f4818b02'\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.118ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '57fb0201-cd30-4006-980e-3467e2517f2a'\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[7.162ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'a23ed7bc-6ff5-499f-bb90-f534f4818b02' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.716ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'b170d484-47dd-4c9d-8457-dcb6f00c8979'\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.863ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'b170d484-47dd-4c9d-8457-dcb6f00c8979' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.606ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('a23ed7bc-6ff5-499f-bb90-f534f4818b02','b170d484-47dd-4c9d-8457-dcb6f00c8979',2,10.99,'pending','')\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.293ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'b170d484-47dd-4c9d-8457-dcb6f00c8979'\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.652ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'b170d484-47dd-4c9d-8457-dcb6f00c8979' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:06 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:28\n","\u001b[0m\u001b[33m[1.617ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"orders\" WHERE order_id = 'a23ed7bc-6ff5-499f-bb90-f534f4818b02'\n","--- PASS: TestDeleteOrder (8.86s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":81,"Col":1}},{"TestName":"TestDeleteRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":10.64,"Output":["","=== RUN   TestDeleteRestaurant\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:38:54 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:79\n","\u001b[0m\u001b[33m[4.645ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:38:54 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:86\n","\u001b[0m\u001b[33m[1.329ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '45e777e4-568f-4b0f-8c69-47474500329f') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:38:54 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.120ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:54 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:56\n","\u001b[0m\u001b[33m[4.042ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"restaurants\" WHERE restaurant_id = '6530a4d1-26a2-43ea-88f4-8153e4a79ad3'\n","--- PASS: TestDeleteRestaurant (10.64s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":71,"Col":1}},{"TestName":"TestDeleteTable","Package":"restaurant_manager/tests/integration","ElapsedTime":8.09,"Output":["","=== RUN   TestDeleteTable\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:39:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:67\n","\u001b[0m\u001b[33m[5.320ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:39:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:74\n","\u001b[0m\u001b[33m[1.405ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'e711c1f7-cdfd-48b4-a214-895c82a21c10') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:39:33 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.161ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:39:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:84\n","\u001b[0m\u001b[33m[2.125ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code, status)\n","\t\tVALUES ('a738df61-ca41-4baa-8382-6bf34eb7d6b7', 2, 'QR_CODE', 'available') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:39:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:28\n","\u001b[0m\u001b[33m[2.154ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"tables\" WHERE table_id = '5301bfdd-b919-4dff-9450-1090deb2bfce'\n","--- PASS: TestDeleteTable (8.09s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":59,"Col":1}},{"TestName":"TestGetCashClosingData","Package":"restaurant_manager/tests/integration","ElapsedTime":10.2,"Output":["","=== RUN   TestGetCashClosingData\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:81\n","\u001b[0m\u001b[33m[4.989ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:89\n","\u001b[0m\u001b[33m[1.948ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'acc2845b-73de-4149-918b-dc6b22eb1edd') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:310\n","\u001b[0m\u001b[33m[1.525ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('fd14b9f0-ede9-4725-899d-1c431e785c81', 'Burger', 'Juicy beef burger', 35000.0, true, 'Main', 'https://example.com/burger.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:317\n","\u001b[0m\u001b[33m[1.266ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('fd14b9f0-ede9-4725-899d-1c431e785c81', 'Pizza', 'Delicious pizza', 40000.0, true, 'Main', 'https://example.com/pizza.jpg')\n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:323\n","\u001b[0m\u001b[33m[1.543ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('9d0b0610-d07c-4341-a474-7513ef9bf7d4', '107', 250, 'g', 15000.0)\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:326\n","\u001b[0m\u001b[33m[1.201ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('9d0b0610-d07c-4341-a474-7513ef9bf7d4', '2', 100, 'g', 8000.0)\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:329\n","\u001b[0m\u001b[33m[1.374ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('2354f6d9-e38e-4374-84a6-9a23deea5e82', '107', 300, 'g', 18000.0)\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:332\n","\u001b[0m\u001b[33m[0.893ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.ingredients (menu_item_id, raw_ingredient_id, amount, unit, price)\n","\t\tVALUES ('2354f6d9-e38e-4374-84a6-9a23deea5e82', '3', 150, 'g', 12000.0)\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:339\n","\u001b[0m\u001b[33m[1.034ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('fd14b9f0-ede9-4725-899d-1c431e785c81', 1, 'QR_CODE_1')\n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:348\n","\u001b[0m\u001b[33m[1.153ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('fd14b9f0-ede9-4725-899d-1c431e785c81', 'e59a04d4-025c-415e-902c-84385311a16f', 'paid', 35000.0, '2025-08-15 12:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:355\n","\u001b[0m\u001b[33m[0.897ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.orders (restaurant_id, table_id, status, total_price, created_at)\n","\t\tVALUES ('fd14b9f0-ede9-4725-899d-1c431e785c81', 'e59a04d4-025c-415e-902c-84385311a16f', 'paid', 40000.0, '2025-08-15 18:00:00')\n","\t\tRETURNING order_id\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:361\n","\u001b[0m\u001b[33m[1.071ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('7fb08e87-38eb-4dce-9314-176c0ef33661', '9d0b0610-d07c-4341-a474-7513ef9bf7d4', 1, 35000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:364\n","\u001b[0m\u001b[33m[0.876ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.order_items (order_id, menu_item_id, quantity, price, status, observation)\n","\t\tVALUES ('fdb93a22-c1f9-4d0a-9b1f-3855c325826f', '2354f6d9-e38e-4374-84a6-9a23deea5e82', 1, 40000.0, 'completed', 'Sin observaciones')\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.147ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[0.916ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" IN ('9d0b0610-d07c-4341-a474-7513ef9bf7d4','2354f6d9-e38e-4374-84a6-9a23deea5e82')\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[2.651ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" IN ('7fb08e87-38eb-4dce-9314-176c0ef33661','fdb93a22-c1f9-4d0a-9b1f-3855c325826f')\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[0.802ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'e59a04d4-025c-415e-902c-84385311a16f'\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:54\n","\u001b[0m\u001b[33m[5.903ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE restaurant_id = 'fd14b9f0-ede9-4725-899d-1c431e785c81' AND status = 'paid'\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.053ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','2')\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.186ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '9d0b0610-d07c-4341-a474-7513ef9bf7d4'\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[3.022ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '9d0b0610-d07c-4341-a474-7513ef9bf7d4' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.400ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','3')\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.860ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '2354f6d9-e38e-4374-84a6-9a23deea5e82'\n","\r\n","2025/08/20 18:36:30 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.395ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '2354f6d9-e38e-4374-84a6-9a23deea5e82' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","--- PASS: TestGetCashClosingData (10.20s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":72,"Col":1}},{"TestName":"TestGetCashClosingHistory","Package":"restaurant_manager/tests/integration","ElapsedTime":7.37,"Output":["","=== RUN   TestGetCashClosingHistory\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:36:39 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:127\n","\u001b[0m\u001b[33m[4.200ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:36:39 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:135\n","\u001b[0m\u001b[33m[1.349ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', 'b75bd0c3-787a-4e50-a50c-4a6e248419d0') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:36:39 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:370\n","\u001b[0m\u001b[33m[1.300ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('65a531da-efc2-4f75-adcf-37a18f294411', '2025-08-15', 1000.0, 500.0, 'First closing', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\r\n","2025/08/20 18:36:39 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:373\n","\u001b[0m\u001b[33m[1.386ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('65a531da-efc2-4f75-adcf-37a18f294411', '2025-08-16', 1200.0, 600.0, 'Second closing', 80000.0, 80000.0, 35000.0, 45000.0, 3, 26666.67)\n","\r\n","2025/08/20 18:36:39 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.686ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:36:39 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:47\n","\u001b[0m\u001b[33m[1.668ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"cash_closings\" WHERE restaurant_id = '65a531da-efc2-4f75-adcf-37a18f294411' AND closing_date BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 00:00:00' ORDER BY closing_date DESC\n","--- PASS: TestGetCashClosingHistory (7.37s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":118,"Col":1}},{"TestName":"TestGetCashClosingStats","Package":"restaurant_manager/tests/integration","ElapsedTime":8.48,"Output":["","=== RUN   TestGetCashClosingStats\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:37:07 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:265\n","\u001b[0m\u001b[33m[3.329ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:37:07 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:273\n","\u001b[0m\u001b[33m[2.073ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '97ac9314-8668-4d17-b9bc-96ef789f01d5') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:37:07 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:370\n","\u001b[0m\u001b[33m[1.687ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('5b0c9e2b-f9cd-45d4-a016-86a75653dce6', '2025-08-15', 1000.0, 500.0, 'First closing', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\r\n","2025/08/20 18:37:07 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:373\n","\u001b[0m\u001b[33m[0.811ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('5b0c9e2b-f9cd-45d4-a016-86a75653dce6', '2025-08-16', 1200.0, 600.0, 'Second closing', 80000.0, 80000.0, 35000.0, 45000.0, 3, 26666.67)\n","\r\n","2025/08/20 18:37:07 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[0.989ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:07 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:83\n","\u001b[0m\u001b[33m[1.855ms] \u001b[34;1m[rows:1]\u001b[0m SELECT \n","\t\t\tSUM(total_sales) as total_sales,\n","\t\t\tSUM(total_revenue) as total_revenue,\n","\t\t\tSUM(total_costs) as total_costs,\n","\t\t\tSUM(total_profit) as total_profit,\n","\t\t\tSUM(order_count) as order_count,\n","\t\t\tCASE WHEN SUM(order_count) \u003e 0 THEN SUM(total_sales) / SUM(order_count) ELSE 0 END as average_order_value,\n","\t\t\tMIN(created_at) as created_at,\n","\t\t\tMAX(updated_at) as updated_at\n","\t\t FROM \"servu\".\"cash_closings\" WHERE restaurant_id = '5b0c9e2b-f9cd-45d4-a016-86a75653dce6' AND closing_date BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 00:00:00'\n","--- PASS: TestGetCashClosingStats (8.48s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":256,"Col":1}},{"TestName":"TestGetRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":9.71,"Output":["","=== RUN   TestGetRestaurant\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:39:04 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:113\n","\u001b[0m\u001b[33m[3.253ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:39:04 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:120\n","\u001b[0m\u001b[33m[1.926ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, description, owner_id, image_url)\n","\t\tVALUES ('Test Restaurant', 'Test Description', '482e10a3-7a19-4e8e-a7c3-8e32c247e2b2', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:39:04 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.302ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:39:04 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:40\n","\u001b[0m\u001b[33m[1.530ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"restaurants\" WHERE owner_id = '482e10a3-7a19-4e8e-a7c3-8e32c247e2b2'\n","--- PASS: TestGetRestaurant (9.71s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":105,"Col":1}},{"TestName":"TestGetTable","Package":"restaurant_manager/tests/integration","ElapsedTime":9.88,"Output":["","=== RUN   TestGetTable\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:39:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:107\n","\u001b[0m\u001b[33m[3.813ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:39:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:114\n","\u001b[0m\u001b[33m[2.455ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '5692808c-f991-4108-b3f8-48737b7fc5c4') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:39:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.489ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:39:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:124\n","\u001b[0m\u001b[33m[2.695ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code, status)\n","\t\tVALUES ('ee7d6b27-cde6-47a5-83ba-d03de0b69b11', 2, 'QR_CODE', 'available') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:39:42 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:39\n","\u001b[0m\u001b[33m[1.044ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE table_id = '3f8de594-fa54-49ab-8998-adb1355c2c19' ORDER BY \"tables\".\"table_id\" LIMIT 1\n","--- PASS: TestGetTable (9.88s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":99,"Col":1}},{"TestName":"TestLoginUser","Package":"restaurant_manager/tests/integration","ElapsedTime":9.67,"Output":["","=== RUN   TestLoginUser\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:40:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/user_gateway_test.go:49\n","\u001b[0m\u001b[33m[3.022ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$fkLipV6Vn8KKo2uXK9JC8eA6dQFjW2RiHRJvmJP5LS3mNv1byZnqm', 'admin', '1234567890')\n","\r\n","2025/08/20 18:40:12 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.462ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","--- PASS: TestLoginUser (9.67s)",""],"Passed":true,"Skipped":false,"TestFileName":"user_gateway_test.go","TestFunctionDetail":{"Line":45,"Col":1}},{"TestName":"TestOrderWithSideDish","Package":"restaurant_manager/tests/integration","ElapsedTime":10.37,"Output":["","=== RUN   TestOrderWithSideDish\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[2.163ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'alice@admin.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[3.738ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1','aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1','ordered',58000,NULL,0,0,0,'2025-08-20 18:38:15.211') RETURNING *\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.068ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1',\"status\"='occupied' WHERE table_id = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.511ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '477e213d-9705-4cf4-a7e1-a1b1e260e268'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.849ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[7.940ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '477e213d-9705-4cf4-a7e1-a1b1e260e268' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.876ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('35','62','60')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.572ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.383ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.839ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('477e213d-9705-4cf4-a7e1-a1b1e260e268','ccccccc1-cccc-cccc-cccc-ccccccccccc1',1,50000,'pending','')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.370ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('35','62','60')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.774ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.188ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[1.212ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '35' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.425ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '62' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.381ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '60' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.889ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee1-eeee-eeee-eeee-eeeeeeeeeee1',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='35',\"quantity\"=800,\"unit\"='g',\"minimum_quantity\"=200,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=1600,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.233' WHERE inventory_id = 'eeeeeee1-eeee-eeee-eeee-eeeeeeeeeee1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.343ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee2-eeee-eeee-eeee-eeeeeeeeeee2',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='62',\"quantity\"=490,\"unit\"='g',\"minimum_quantity\"=100,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=8000,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.235' WHERE inventory_id = 'eeeeeee2-eeee-eeee-eeee-eeeeeeeeeee2'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.059ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee3-eeee-eeee-eeee-eeeeeeeeeee3',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='60',\"quantity\"=1997,\"unit\"='g',\"minimum_quantity\"=500,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=1200,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.236' WHERE inventory_id = 'eeeeeee3-eeee-eeee-eeee-eeeeeeeeeee3'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.694ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.069ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '477e213d-9705-4cf4-a7e1-a1b1e260e268'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.041ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.560ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '477e213d-9705-4cf4-a7e1-a1b1e260e268' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.578ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.930ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.342ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.171ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('477e213d-9705-4cf4-a7e1-a1b1e260e268','ccccccc3-cccc-cccc-cccc-ccccccccccc3',1,8000,'pending','Guardicion bife a la criolla')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.346ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.657ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.042ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.340ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '107' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.332ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '108' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[0.974ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='107',\"quantity\"=800,\"unit\"='g',\"minimum_quantity\"=200,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=2000,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.244' WHERE inventory_id = 'eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.040ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='108',\"quantity\"=450,\"unit\"='ml',\"minimum_quantity\"=100,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=1000,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.245' WHERE inventory_id = 'eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.847ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" IN ('ccccccc1-cccc-cccc-cccc-ccccccccccc1','ccccccc3-cccc-cccc-cccc-ccccccccccc3')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.418ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '477e213d-9705-4cf4-a7e1-a1b1e260e268'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.311ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = 'bbbbbbb1-bbbb-bbbb-bbbb-bbbbbbbbbbb1'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.139ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '477e213d-9705-4cf4-a7e1-a1b1e260e268' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.287ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.634ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.950ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.339ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('477e213d-9705-4cf4-a7e1-a1b1e260e268','ccccccc3-cccc-cccc-cccc-ccccccccccc3',1,8000,'pending','')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.274ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('107','108')\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.614ms] \u001b[34;1m[rows:2]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.961ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc3-cccc-cccc-cccc-ccccccccccc3' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.379ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '107' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:70\n","\u001b[0m\u001b[33m[0.347ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"inventories\" WHERE raw_ingredient_id = '108' AND restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1' ORDER BY \"inventories\".\"inventory_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[1.331ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='107',\"quantity\"=600,\"unit\"='g',\"minimum_quantity\"=200,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=2000,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.254' WHERE inventory_id = 'eeeeeee7-eeee-eeee-eeee-eeeeeeeeeee7'\n","\r\n","2025/08/20 18:38:15 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/inventory_repository.go:56\n","\u001b[0m\u001b[33m[10.466ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"inventories\" SET \"inventory_id\"='eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"raw_ingredient_id\"='108',\"quantity\"=400,\"unit\"='ml',\"minimum_quantity\"=100,\"last_restock_date\"='2025-08-20 23:38:11.554',\"price\"=1000,\"created_at\"='2025-08-20 23:38:11.554',\"updated_at\"='2025-08-20 18:38:15.259' WHERE inventory_id = 'eeeeeee8-eeee-eeee-eeee-eeeeeeeeeee8'\n","--- PASS: TestOrderWithSideDish (10.37s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":151,"Col":1}},{"TestName":"TestRecoverVoidOrderItem","Package":"restaurant_manager/tests/integration","ElapsedTime":9.49,"Output":["","=== RUN   TestRecoverVoidOrderItem\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:217\n","\u001b[0m\u001b[33m[3.135ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:224\n","\u001b[0m\u001b[33m[2.931ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id, description, image_url)\n","\t\tVALUES ('Test Restaurant', '82743c19-f2ea-4808-a370-9b0b8d51bb77', 'Test Description', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:231\n","\u001b[0m\u001b[33m[3.115ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('878e4d44-e314-42b9-995a-685e4a763c92', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:238\n","\u001b[0m\u001b[33m[1.918ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('878e4d44-e314-42b9-995a-685e4a763c92', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[2.127ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('778842b7-44f9-4413-a7e3-398129ae6964','878e4d44-e314-42b9-995a-685e4a763c92','ordered',21.98,NULL,0,0,0,'2025-08-20 18:38:24.665') RETURNING *\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[1.528ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='778842b7-44f9-4413-a7e3-398129ae6964',\"status\"='occupied' WHERE table_id = '778842b7-44f9-4413-a7e3-398129ae6964'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.262ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '794243ba-0973-4d19-be10-0d2a95cb3454'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.697ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '778842b7-44f9-4413-a7e3-398129ae6964'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[7.000ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '794243ba-0973-4d19-be10-0d2a95cb3454' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.667ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.473ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.614ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('794243ba-0973-4d19-be10-0d2a95cb3454','9135b901-84cd-4b0c-9693-6efb91b95838',2,10.99,'pending','Test void')\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.316ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.719ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:88\n","\u001b[0m\u001b[33m[0.887ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE order_id = '794243ba-0973-4d19-be10-0d2a95cb3454' AND menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' AND observation = 'Test void' ORDER BY \"order_items\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:73\n","\u001b[0m\u001b[33m[0.877ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"order_items\" SET \"order_id\"='794243ba-0973-4d19-be10-0d2a95cb3454',\"menu_item_id\"='9135b901-84cd-4b0c-9693-6efb91b95838',\"quantity\"=1,\"price\"=10.99,\"status\"='pending',\"observation\"='Test void' WHERE order_id = '794243ba-0973-4d19-be10-0d2a95cb3454' AND menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' AND observation = 'Test void'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:103\n","\u001b[0m\u001b[33m[1.120ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"void_order_items\" (\"restaurant_id\",\"menu_item_id\",\"quantity\",\"price\",\"observation\",\"void_reason\",\"status\",\"created_at\") VALUES ('878e4d44-e314-42b9-995a-685e4a763c92','9135b901-84cd-4b0c-9693-6efb91b95838',1,10.99,'Test void','void','voided','2025-08-20 18:38:24.682') RETURNING *\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[0.502ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[1.083ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE restaurant_id = '878e4d44-e314-42b9-995a-685e4a763c92'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[1.051ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('778842b7-44f9-4413-a7e3-398129ae6964','878e4d44-e314-42b9-995a-685e4a763c92','ordered',10.99,NULL,0,0,0,'2025-08-20 18:38:24.685') RETURNING *\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[0.901ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='778842b7-44f9-4413-a7e3-398129ae6964',\"status\"='occupied' WHERE table_id = '778842b7-44f9-4413-a7e3-398129ae6964'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.388ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'a353351d-1897-48fb-b0e6-49acfa6a549c'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.394ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '778842b7-44f9-4413-a7e3-398129ae6964'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.167ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'a353351d-1897-48fb-b0e6-49acfa6a549c' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.338ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.691ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[1.361ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('a353351d-1897-48fb-b0e6-49acfa6a549c','9135b901-84cd-4b0c-9693-6efb91b95838',1,10.99,'pending','Test void')\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.304ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[0.832ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:330\n","\u001b[0m\u001b[33m[0.547ms] \u001b[34;1m[rows:1]\u001b[0m SELECT void_order_item_id FROM servu.void_order_items WHERE restaurant_id = '878e4d44-e314-42b9-995a-685e4a763c92' LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[0.571ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[1.232ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE void_order_item_id = 'c97e503c-18bb-4d67-b7e5-34e6f0f8b329' ORDER BY \"void_order_items\".\"void_order_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.334ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.872ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'a353351d-1897-48fb-b0e6-49acfa6a549c'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.572ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '778842b7-44f9-4413-a7e3-398129ae6964'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.053ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'a353351d-1897-48fb-b0e6-49acfa6a549c' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:73\n","\u001b[0m\u001b[33m[0.382ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"order_items\" SET \"order_id\"='a353351d-1897-48fb-b0e6-49acfa6a549c',\"menu_item_id\"='9135b901-84cd-4b0c-9693-6efb91b95838',\"quantity\"=1,\"price\"=10.99,\"status\"='prepared',\"observation\"='Test void' WHERE order_id = 'a353351d-1897-48fb-b0e6-49acfa6a549c' AND menu_item_id = '9135b901-84cd-4b0c-9693-6efb91b95838' AND observation = 'Test void'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:115\n","\u001b[0m\u001b[33m[0.579ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"void_order_items\" WHERE void_order_item_id = 'c97e503c-18bb-4d67-b7e5-34e6f0f8b329'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[0.318ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE restaurant_id = '878e4d44-e314-42b9-995a-685e4a763c92'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.431ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '9135b901-84cd-4b0c-9693-6efb91b95838'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.884ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = 'a353351d-1897-48fb-b0e6-49acfa6a549c'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[0.339ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '778842b7-44f9-4413-a7e3-398129ae6964'\n","\r\n","2025/08/20 18:38:24 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.769ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = 'a353351d-1897-48fb-b0e6-49acfa6a549c' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","--- PASS: TestRecoverVoidOrderItem (9.49s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":208,"Col":1}},{"TestName":"TestRecoverVoidOrderItemNoMatchingItem","Package":"restaurant_manager/tests/integration","ElapsedTime":9.56,"Output":["","=== RUN   TestRecoverVoidOrderItemNoMatchingItem\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:369\n","\u001b[0m\u001b[33m[3.172ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:376\n","\u001b[0m\u001b[33m[1.525ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id, description, image_url)\n","\t\tVALUES ('Test Restaurant', '085cb286-62f6-416a-a61d-7dbfbf1a7973', 'Test Description', 'https://test.com') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:383\n","\u001b[0m\u001b[33m[1.590ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code)\n","\t\tVALUES ('eecddbf6-702d-44bb-83e4-003a80ee11aa', 2, 'QR_CODE') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:390\n","\u001b[0m\u001b[33m[1.515ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.menu_items (restaurant_id, name, description, price, available, category, image_url)\n","\t\tVALUES ('eecddbf6-702d-44bb-83e4-003a80ee11aa', 'Burger', 'Juicy beef burger', 10.99, true, 'Main', 'https://www.google.com') \n","\t\tRETURNING menu_item_id\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[3.109ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('1a07538c-1f66-4579-a194-ff9a0d0a293e','eecddbf6-702d-44bb-83e4-003a80ee11aa','ordered',21.98,NULL,0,0,0,'2025-08-20 18:38:34.222') RETURNING *\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.515ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='1a07538c-1f66-4579-a194-ff9a0d0a293e',\"status\"='occupied' WHERE table_id = '1a07538c-1f66-4579-a194-ff9a0d0a293e'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.057ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '566f48b1-b00f-4372-a004-39301ff0b867'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[2.828ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '1a07538c-1f66-4579-a194-ff9a0d0a293e'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[11.835ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '566f48b1-b00f-4372-a004-39301ff0b867' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.232ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '2911ba23-4efc-45c5-9a48-880fdfdfa87a'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[3.709ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '2911ba23-4efc-45c5-9a48-880fdfdfa87a' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:63\n","\u001b[0m\u001b[33m[3.261ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"order_items\" (\"order_id\",\"menu_item_id\",\"quantity\",\"price\",\"status\",\"observation\") VALUES ('566f48b1-b00f-4372-a004-39301ff0b867','2911ba23-4efc-45c5-9a48-880fdfdfa87a',2,10.99,'pending','Test void')\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.234ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = '2911ba23-4efc-45c5-9a48-880fdfdfa87a'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.201ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = '2911ba23-4efc-45c5-9a48-880fdfdfa87a' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:88\n","\u001b[0m\u001b[33m[1.188ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE order_id = '566f48b1-b00f-4372-a004-39301ff0b867' AND menu_item_id = '2911ba23-4efc-45c5-9a48-880fdfdfa87a' AND observation = 'Test void' ORDER BY \"order_items\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:73\n","\u001b[0m\u001b[33m[1.093ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"order_items\" SET \"order_id\"='566f48b1-b00f-4372-a004-39301ff0b867',\"menu_item_id\"='2911ba23-4efc-45c5-9a48-880fdfdfa87a',\"quantity\"=1,\"price\"=10.99,\"status\"='pending',\"observation\"='Test void' WHERE order_id = '566f48b1-b00f-4372-a004-39301ff0b867' AND menu_item_id = '2911ba23-4efc-45c5-9a48-880fdfdfa87a' AND observation = 'Test void'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:103\n","\u001b[0m\u001b[33m[1.391ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"void_order_items\" (\"restaurant_id\",\"menu_item_id\",\"quantity\",\"price\",\"observation\",\"void_reason\",\"status\",\"created_at\") VALUES ('eecddbf6-702d-44bb-83e4-003a80ee11aa','2911ba23-4efc-45c5-9a48-880fdfdfa87a',1,10.99,'Test void','void','voided','2025-08-20 18:38:34.252') RETURNING *\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:20\n","\u001b[0m\u001b[33m[3.746ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"orders\" (\"table_id\",\"restaurant_id\",\"status\",\"total_price\",\"observation\",\"time_to_prepare_seconds\",\"time_to_deliver_seconds\",\"time_to_pay_seconds\",\"created_at\") VALUES ('1a07538c-1f66-4579-a194-ff9a0d0a293e','eecddbf6-702d-44bb-83e4-003a80ee11aa','ordered',0,NULL,0,0,0,'2025-08-20 18:38:34.255') RETURNING *\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[6.926ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='1a07538c-1f66-4579-a194-ff9a0d0a293e',\"status\"='occupied' WHERE table_id = '1a07538c-1f66-4579-a194-ff9a0d0a293e'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/orders_gateway_test.go:463\n","\u001b[0m\u001b[33m[4.162ms] \u001b[34;1m[rows:1]\u001b[0m SELECT void_order_item_id FROM servu.void_order_items WHERE restaurant_id = 'eecddbf6-702d-44bb-83e4-003a80ee11aa' LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[3.210ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '2911ba23-4efc-45c5-9a48-880fdfdfa87a'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:122\n","\u001b[0m\u001b[33m[6.737ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE void_order_item_id = '62b502f0-528a-4dff-b518-a8cef78de477' ORDER BY \"void_order_items\".\"void_order_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[3.407ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"order_items\" WHERE \"order_items\".\"order_id\" = '7450bf4c-728a-4165-b95e-9e5ecba48cd7'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[1.784ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"tables\" WHERE \"tables\".\"table_id\" = '1a07538c-1f66-4579-a194-ff9a0d0a293e'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:41\n","\u001b[0m\u001b[33m[6.793ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"orders\" WHERE order_id = '7450bf4c-728a-4165-b95e-9e5ecba48cd7' ORDER BY \"orders\".\"order_id\" LIMIT 1\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[0.791ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE \"menu_items\".\"menu_item_id\" = '2911ba23-4efc-45c5-9a48-880fdfdfa87a'\n","\r\n","2025/08/20 18:38:34 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/order_repository.go:110\n","\u001b[0m\u001b[33m[1.608ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"void_order_items\" WHERE restaurant_id = 'eecddbf6-702d-44bb-83e4-003a80ee11aa'\n","--- PASS: TestRecoverVoidOrderItemNoMatchingItem (9.56s)",""],"Passed":true,"Skipped":false,"TestFileName":"orders_gateway_test.go","TestFunctionDetail":{"Line":360,"Col":1}}]},{"FailureIndicator":"","SkippedIndicator":"","TestResults":[{"TestName":"TestRegistryUser","Package":"restaurant_manager/tests/integration","ElapsedTime":10.95,"Output":["","=== RUN   TestRegistryUser\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:40:02 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[2.437ms] \u001b[34;1m[rows:0]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:40:02 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:31\n","\u001b[0m\u001b[33m[3.326ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"users\" (\"name\",\"email\",\"password_hash\",\"role\",\"id_number\",\"phone\",\"restaurant_id\",\"nit_number\",\"created_at\") VALUES ('John Doe','john@example.com','$2a$10$MaxO67qHS0J2L7VLKJ7fbeD.aQhjG1/HC5Nn6dnrBr42mLs5eQb0W','admin','1234567890','1234567890',NULL,'1234567890','2025-08-20 18:40:02.647') RETURNING *\n","--- PASS: TestRegistryUser (10.95s)",""],"Passed":true,"Skipped":false,"TestFileName":"user_gateway_test.go","TestFunctionDetail":{"Line":13,"Col":1}},{"TestName":"TestUpdateCashClosing","Package":"restaurant_manager/tests/integration","ElapsedTime":10.31,"Output":["","=== RUN   TestUpdateCashClosing\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:36:48 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:168\n","\u001b[0m\u001b[33m[3.331ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:36:48 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:176\n","\u001b[0m\u001b[33m[1.375ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '5b6a46c8-e5da-4c08-8246-2e09c39cabf1') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:36:48 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/cash_closing_gateway_test.go:184\n","\u001b[0m\u001b[33m[1.651ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.cash_closings (restaurant_id, closing_date, cash_in_register, cash_withdrawn, notes, total_sales, total_revenue, total_costs, total_profit, order_count, average_order_value)\n","\t\tVALUES ('f5226a2e-f3cf-4af9-95cd-41175d4e5b60', '2025-08-15', 1000.0, 500.0, 'Original notes', 75000.0, 75000.0, 31200.0, 43800.0, 2, 37500.0)\n","\t\tRETURNING cash_closing_id\n","\r\n","2025/08/20 18:36:48 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.259ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:36:48 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:36\n","\u001b[0m\u001b[33m[1.621ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"cash_closings\" WHERE restaurant_id = 'f5226a2e-f3cf-4af9-95cd-41175d4e5b60' AND closing_date = '2025-08-15 00:00:00' ORDER BY \"cash_closings\".\"cash_closing_id\" LIMIT 1\n","\r\n","2025/08/20 18:36:48 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/cash_closing_repository.go:52\n","\u001b[0m\u001b[33m[2.660ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"cash_closings\" SET \"restaurant_id\"='f5226a2e-f3cf-4af9-95cd-41175d4e5b60',\"closing_date\"='2025-08-15 00:00:00',\"cash_in_register\"=1200,\"cash_withdrawn\"=600,\"notes\"='Updated notes',\"total_sales\"=75000,\"total_revenue\"=75000,\"total_costs\"=31200,\"total_profit\"=43800,\"order_count\"=2,\"average_order_value\"=37500,\"created_at\"='2025-08-20 23:36:48.234',\"updated_at\"='2025-08-20 18:36:48.305' WHERE \"cash_closing_id\" = '429a19a9-74b0-43c5-96be-879884db8453'\n","--- PASS: TestUpdateCashClosing (10.31s)",""],"Passed":true,"Skipped":false,"TestFileName":"cash_closing_gateway_test.go","TestFunctionDetail":{"Line":159,"Col":1}},{"TestName":"TestUpdateMenuItem","Package":"restaurant_manager/tests/integration","ElapsedTime":10.56,"Output":["","=== RUN   TestUpdateMenuItem\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[4.616ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'alice@admin.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[1.024ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('35','62','60')\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[2.419ms] \u001b[34;1m[rows:3]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:45\n","\u001b[0m\u001b[33m[11.016ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1' ORDER BY \"menu_items\".\"menu_item_id\" LIMIT 1\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:49\n","\u001b[0m\u001b[33m[2.691ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"ingredient_id\" = 'dddddddd-dddd-dddd-dddd-dddddddd0001' RETURNING *\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:49\n","\u001b[0m\u001b[33m[1.400ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"ingredient_id\" = 'dddddddd-dddd-dddd-dddd-dddddddd0002' RETURNING *\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:49\n","\u001b[0m\u001b[33m[1.242ms] \u001b[34;1m[rows:1]\u001b[0m DELETE FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"ingredient_id\" = 'dddddddd-dddd-dddd-dddd-dddddddd0003' RETURNING *\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/ingredient_repository.go:21\n","\u001b[0m\u001b[33m[2.153ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO \"servu\".\"ingredients\" (\"menu_item_id\",\"raw_ingredient_id\",\"price\",\"amount\",\"unit\") VALUES ('ccccccc1-cccc-cccc-cccc-ccccccccccc1','107',100000,250,'g') RETURNING *\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:34\n","\u001b[0m\u001b[33m[1.391ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"menu_items\" SET \"menu_item_id\"='ccccccc1-cccc-cccc-cccc-ccccccccccc1',\"name\"='Bife a la Criolla',\"restaurant_id\"='aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1',\"description\"='Bife a la criolla con papas fritas y ensalada',\"price\"=50000,\"available\"=true,\"side_dishes\"=3,\"image_url\"='https://servu-web.s3.us-east-1.amazonaws.com/TestMock/menu/bife.jpg',\"category\"='Main' WHERE menu_item_id = 'ccccccc1-cccc-cccc-cccc-ccccccccccc1'\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[0.787ms] \u001b[34;1m[rows:14]\u001b[0m SELECT * FROM \"servu\".\"raw_ingredients\" WHERE \"raw_ingredients\".\"raw_ingredient_id\" IN ('53','94','26','107','108','109','110','111','112','113','114','115','116','117')\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[1.565ms] \u001b[34;1m[rows:16]\u001b[0m SELECT * FROM \"servu\".\"ingredients\" WHERE \"ingredients\".\"menu_item_id\" IN ('ccccccc1-cccc-cccc-cccc-ccccccccccc1','ccccccc2-cccc-cccc-cccc-ccccccccccc2','ccccccc3-cccc-cccc-cccc-ccccccccccc3','ccccccc4-cccc-cccc-cccc-ccccccccccc4','ccccccc5-cccc-cccc-cccc-ccccccccccc5','ccccccc6-cccc-cccc-cccc-ccccccccccc6')\n","\r\n","2025/08/20 18:37:46 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/menu_repository.go:39\n","\u001b[0m\u001b[33m[2.551ms] \u001b[34;1m[rows:6]\u001b[0m SELECT * FROM \"servu\".\"menu_items\" WHERE restaurant_id = 'aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1'\n","--- PASS: TestUpdateMenuItem (10.56s)",""],"Passed":true,"Skipped":false,"TestFileName":"menu_gateway_test.go","TestFunctionDetail":{"Line":209,"Col":1}},{"TestName":"TestUpdateRestaurant","Package":"restaurant_manager/tests/integration","ElapsedTime":9.41,"Output":["","=== RUN   TestUpdateRestaurant\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:39:13 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:151\n","\u001b[0m\u001b[33m[2.840ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:39:13 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/restaurants_gateway_test.go:158\n","\u001b[0m\u001b[33m[2.011ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, owner_id)\n","\t\tVALUES ('Test Restaurant', '8d5ee152-a1b3-4095-9233-ed8d1aebc4b8') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:39:13 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.255ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:39:13 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/restaurant_repository.go:51\n","\u001b[0m\u001b[33m[3.195ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"restaurants\" SET \"restaurant_id\"='4080ebe5-a5e3-4b12-a553-93d2170bd0bd',\"name\"='Test Restaurant_2',\"owner_id\"='8d5ee152-a1b3-4095-9233-ed8d1aebc4b8' WHERE restaurant_id = '4080ebe5-a5e3-4b12-a553-93d2170bd0bd'\n","--- PASS: TestUpdateRestaurant (9.41s)",""],"Passed":true,"Skipped":false,"TestFileName":"restaurants_gateway_test.go","TestFunctionDetail":{"Line":143,"Col":1}},{"TestName":"TestUpdateTable","Package":"restaurant_manager/tests/integration","ElapsedTime":9.56,"Output":["","=== RUN   TestUpdateTable\n","✅ Connected to PostgreSQL\n","\r\n","2025/08/20 18:39:51 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:151\n","\u001b[0m\u001b[33m[3.412ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.users (name, email, password_hash, role, phone)\n","\t\tVALUES ('John Doe', 'john@example.com', '$2$a$10$$OadQYtj4KxIpkjOQ/zw62euZ00cLJDUmUGMJ5bdGU2TE1.6GwKsoa', 'admin', '1234567890')\n","\t\tRETURNING user_id\n","\r\n","2025/08/20 18:39:51 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:158\n","\u001b[0m\u001b[33m[1.529ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.restaurants (name, description, image_url, owner_id)\n","\t\tVALUES ('Test Restaurant', 'Test Description', 'https://test.com', 'b69c2846-3dfe-4c48-8421-db349b472cfc') \n","\t\tRETURNING restaurant_id\n","\r\n","2025/08/20 18:39:51 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/user_repository.go:41\n","\u001b[0m\u001b[33m[1.155ms] \u001b[34;1m[rows:1]\u001b[0m SELECT * FROM \"servu\".\"users\" WHERE email = 'john@example.com' ORDER BY \"users\".\"user_id\" LIMIT 1\n","\r\n","2025/08/20 18:39:51 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/tests/integration/table_gateway_test.go:168\n","\u001b[0m\u001b[33m[2.250ms] \u001b[34;1m[rows:1]\u001b[0m INSERT INTO servu.tables (restaurant_id, table_number, qr_code, status)\n","\t\tVALUES ('cdb6d612-d03c-42aa-b5b7-b9b030502c0c', 2, 'QR_CODE', 'available') \n","\t\tRETURNING table_id\n","\r\n","2025/08/20 18:39:51 \u001b[32m/Users/sbd/Projects/restaurant_project/restaurant_manager/src/application/infrastructure/repositories/table_repository.go:34\n","\u001b[0m\u001b[33m[2.579ms] \u001b[34;1m[rows:1]\u001b[0m UPDATE \"servu\".\"tables\" SET \"table_id\"='8c1a49d2-67a0-462c-9d22-af6dfc470d41',\"restaurant_id\"='cdb6d612-d03c-42aa-b5b7-b9b030502c0c',\"table_number\"=2,\"qr_code\"='QR_CODE_URL_3',\"status\"='available' WHERE table_id = '8c1a49d2-67a0-462c-9d22-af6dfc470d41'\n","--- PASS: TestUpdateTable (9.56s)",""],"Passed":true,"Skipped":false,"TestFileName":"table_gateway_test.go","TestFunctionDetail":{"Line":143,"Col":1}}]}]

    const report = window.GoTestReport({
                                         data: data,
                                         testResultsElem: document.getElementById('testResults'),
                                         testGroupListElem: document.getElementById('testGroupList')
                                       });


</script>
</body>
</html>
